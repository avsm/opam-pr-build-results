Sending build context to Docker daemon 32.77 kB
Step 1 : FROM ocaml/opam:oraclelinux-7_ocaml-4.02.3
 ---> 3ce250af9294
Step 2 : RUN sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/samoht/opam-repository.git opam-publish/mirage.2.7.1 && opam update -u" &&   sudo -u opam sh -c "opam depext -u mirage" &&   sudo -u opam sh -c "opam install -y -j 2 -v mirage"
 ---> Running in 55595d2ab190
[91mFrom git://github.com/ocaml/opam-repository
 * branch            master     -> FETCH_HEAD
[0mUpdating 53236a1..d558270
Fast-forward
 compilers/4.04.0/4.04.0+pr490/4.04.0+pr490.descr   |  1 -
 compilers/4.04.0/4.04.0+pr507/4.04.0+pr507.descr   |  1 -
 .../4.04.0+pr512.comp}                             |  2 +-
 compilers/4.04.0/4.04.0+pr512/4.04.0+pr512.descr   |  1 +
 compilers/4.04.0/4.04.0+pr513/4.04.0+pr513.comp    | 11 +++++++
 compilers/4.04.0/4.04.0+pr513/4.04.0+pr513.descr   |  1 +
 compilers/4.04.0/4.04.0+pr514/4.04.0+pr514.comp    | 11 +++++++
 compilers/4.04.0/4.04.0+pr514/4.04.0+pr514.descr   |  1 +
 .../4.04.0+pr515.comp}                             |  2 +-
 compilers/4.04.0/4.04.0+pr515/4.04.0+pr515.descr   |  1 +
 packages/alt-ergo/alt-ergo.0.95.2/opam             | 18 +++++++----
 packages/alt-ergo/alt-ergo.0.99.1/opam             | 22 ++++++++++----
 packages/alt-ergo/alt-ergo.1.01/opam               | 29 ++++++++----------
 packages/amqp-client/amqp-client.0.9.0/opam        |  2 +-
 packages/camlpdf/camlpdf.2.1.1/opam                | 10 ++++---
 packages/camlzip/camlzip.1.04/opam                 |  3 ++
 packages/camlzip/camlzip.1.05/opam                 |  3 ++
 packages/dockerfile/dockerfile.1.3.0/descr         | 18 +++++++++++
 packages/dockerfile/dockerfile.1.3.0/opam          | 22 ++++++++++++++
 packages/dockerfile/dockerfile.1.3.0/url           |  2 ++
 packages/gapi-ocaml/gapi-ocaml.0.2.10/descr        | 10 +++++++
 packages/gapi-ocaml/gapi-ocaml.0.2.10/findlib      |  1 +
 packages/gapi-ocaml/gapi-ocaml.0.2.10/opam         | 35 ++++++++++++++++++++++
 packages/gapi-ocaml/gapi-ocaml.0.2.10/url          |  2 ++
 packages/gapi-ocaml/gapi-ocaml.0.2.9/descr         | 10 +++++++
 packages/gapi-ocaml/gapi-ocaml.0.2.9/findlib       |  1 +
 packages/gapi-ocaml/gapi-ocaml.0.2.9/opam          | 35 ++++++++++++++++++++++
 packages/gapi-ocaml/gapi-ocaml.0.2.9/url           |  2 ++
 packages/markup/markup.0.7.1/descr                 | 20 +++++++++++++
 packages/markup/markup.0.7.1/opam                  | 27 +++++++++++++++++
 packages/markup/markup.0.7.1/url                   |  2 ++
 packages/mirage-profile/mirage-profile.0.1/opam    |  5 ++--
 packages/mirage-profile/mirage-profile.0.3/opam    |  5 ++--
 packages/mirage-profile/mirage-profile.0.4/opam    |  5 ++--
 packages/mirage-profile/mirage-profile.0.5/opam    |  5 ++--
 packages/mirage-profile/mirage-profile.0.6.1/opam  |  3 +-
 packages/mirage-profile/mirage-profile.0.6/opam    |  5 ++--
 packages/mirage-unix/mirage-unix.2.2.3/opam        |  3 +-
 packages/mirage-unix/mirage-unix.2.3.1/opam        |  3 +-
 packages/nodejs/nodejs.0.1/opam                    |  4 +--
 packages/nodejs/nodejs.0.2/opam                    |  2 +-
 packages/nodejs/nodejs.0.3/opam                    |  2 +-
 packages/nodejs/nodejs.0.4/opam                    |  2 +-
 packages/nodejs/nodejs.0.5/opam                    |  2 +-
 packages/ppx_deriving/ppx_deriving.3.3/descr       |  5 ++++
 packages/ppx_deriving/ppx_deriving.3.3/opam        | 29 ++++++++++++++++++
 packages/ppx_deriving/ppx_deriving.3.3/url         |  2 ++
 .../ppx_jsobject_conv.0.0.1/descr                  |  6 ++++
 .../ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/opam | 25 ++++++++++++++++
 .../ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/url  |  3 ++
 packages/vchan/vchan.0.9.2/descr                   |  4 ---
 packages/vchan/vchan.0.9.2/findlib                 |  1 -
 packages/vchan/vchan.0.9.2/opam                    | 24 ---------------
 packages/vchan/vchan.0.9.2/url                     |  2 --
 packages/vchan/vchan.0.9.3/descr                   |  4 ---
 packages/vchan/vchan.0.9.3/findlib                 |  1 -
 packages/vchan/vchan.0.9.3/opam                    | 24 ---------------
 packages/vchan/vchan.0.9.3/url                     |  2 --
 packages/vchan/vchan.0.9.5/opam                    | 13 ++++----
 packages/vchan/vchan.0.9.6/opam                    | 16 +++++-----
 packages/vchan/vchan.0.9.7/opam                    | 17 ++++++-----
 packages/vchan/vchan.1.0.0/opam                    | 17 ++++++-----
 packages/vchan/vchan.2.0.0/opam                    | 16 +++++-----
 packages/vchan/vchan.2.0.1/opam                    | 14 +++++----
 packages/vchan/vchan.2.0.2/opam                    | 15 ++++++----
 packages/vchan/vchan.2.0.3/opam                    |  3 +-
 packages/vmnet/vmnet.1.0.0/opam                    |  4 +--
 packages/vmnet/vmnet.1.0.1/opam                    |  4 +--
 packages/vmnet/vmnet.1.0.2/opam                    |  4 +--
 69 files changed, 435 insertions(+), 172 deletions(-)
 delete mode 100644 compilers/4.04.0/4.04.0+pr490/4.04.0+pr490.descr
 delete mode 100644 compilers/4.04.0/4.04.0+pr507/4.04.0+pr507.descr
 rename compilers/4.04.0/{4.04.0+pr507/4.04.0+pr507.comp => 4.04.0+pr512/4.04.0+pr512.comp} (81%)
 create mode 100644 compilers/4.04.0/4.04.0+pr512/4.04.0+pr512.descr
 create mode 100644 compilers/4.04.0/4.04.0+pr513/4.04.0+pr513.comp
 create mode 100644 compilers/4.04.0/4.04.0+pr513/4.04.0+pr513.descr
 create mode 100644 compilers/4.04.0/4.04.0+pr514/4.04.0+pr514.comp
 create mode 100644 compilers/4.04.0/4.04.0+pr514/4.04.0+pr514.descr
 rename compilers/4.04.0/{4.04.0+pr490/4.04.0+pr490.comp => 4.04.0+pr515/4.04.0+pr515.comp} (79%)
 create mode 100644 compilers/4.04.0/4.04.0+pr515/4.04.0+pr515.descr
 create mode 100644 packages/dockerfile/dockerfile.1.3.0/descr
 create mode 100644 packages/dockerfile/dockerfile.1.3.0/opam
 create mode 100644 packages/dockerfile/dockerfile.1.3.0/url
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.10/descr
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.10/findlib
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.10/opam
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.10/url
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.9/descr
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.9/findlib
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.9/opam
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.9/url
 create mode 100644 packages/markup/markup.0.7.1/descr
 create mode 100644 packages/markup/markup.0.7.1/opam
 create mode 100644 packages/markup/markup.0.7.1/url
 create mode 100644 packages/ppx_deriving/ppx_deriving.3.3/descr
 create mode 100644 packages/ppx_deriving/ppx_deriving.3.3/opam
 create mode 100644 packages/ppx_deriving/ppx_deriving.3.3/url
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/descr
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/opam
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/url
 delete mode 100644 packages/vchan/vchan.0.9.2/descr
 delete mode 100644 packages/vchan/vchan.0.9.2/findlib
 delete mode 100644 packages/vchan/vchan.0.9.2/opam
 delete mode 100644 packages/vchan/vchan.0.9.2/url
 delete mode 100644 packages/vchan/vchan.0.9.3/descr
 delete mode 100644 packages/vchan/vchan.0.9.3/findlib
 delete mode 100644 packages/vchan/vchan.0.9.3/opam
 delete mode 100644 packages/vchan/vchan.0.9.3/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
[91mFrom https://github.com/samoht/opam-repository
 * branch            opam-publish/mirage.2.7.1 -> FETCH_HEAD
[0mMerge made by the 'recursive' strategy.
 packages/mirage/mirage.2.7.1/descr | 12 ++++++++++++
 packages/mirage/mirage.2.7.1/opam  | 32 ++++++++++++++++++++++++++++++++
 packages/mirage/mirage.2.7.1/url   |  2 ++
 3 files changed, 46 insertions(+)
 create mode 100644 packages/mirage/mirage.2.7.1/descr
 create mode 100644 packages/mirage/mirage.2.7.1/opam
 create mode 100644 packages/mirage/mirage.2.7.1/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
# Detecting depexts using flags: x86_64 linux ol
# No extra OS packages requirements found.
The following actions will be performed:
  - install conf-m4          1                                  [required by ocamlfind]
  - install result           1.2                                [required by rresult]
  - install conf-pkg-config  1.0                                [required by conf-ncurses]
  - install conf-ncurses     1                                  [required by ocamlfind]
  - install ocamlfind        1.6.2                              [required by mirage-types, functoria, astring, etc.]
  - install type_conv        113.00.02                          [required by cstruct]
  - install sexplib          113.24.00                          [required by ipaddr]
  - install rresult          0.3.0                              [required by functoria]
  - install ppx_tools        4.02.3                             [required by ppx_sexp_conv, cstruct]
  - install ocamlgraph       1.8.6                              [required by functoria]
  - install fmt              0.7.1                              [required by functoria]
  - install cppo             1.3.1                              [required by ocplib-endian]
  - install base-bytes       base                               [required by ipaddr]
  - install astring          0.8.1                              [required by mirage]
  - install ppx_core         113.24.00                          [required by ppx_sexp_conv]
  - install lwt              2.5.1                              [required by mirage-types, mirage-types-lwt]
  - install functoria        1.0.0                              [required by mirage]
  - install ppx_deriving     3.3                                [required by ppx_type_conv]
  - install ocplib-endian    0.8                                [required by cstruct]
  - install ppx_optcomp      113.24.00                          [required by ppx_driver]
  - install cstruct          1.9.0                              [required by mirage-types, mirage-types-lwt]
  - install ppx_driver       113.24.00                          [required by ppx_type_conv]
  - install io-page          1.6.0                              [required by mirage-types, mirage-types-lwt]
  - install ppx_type_conv    113.24.00                          [required by ppx_sexp_conv]
  - install ppx_sexp_conv    113.24.00                          [required by ipaddr]
  - install ipaddr           2.7.0                              [required by mirage]
  - install mirage-types     2.6.0                              [required by mirage]
  - install mirage-types-lwt 2.6.0                              [required by mirage]
  - install mirage           2.7.1    
===== 29 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[astring: http] Command started
[cppo: http] Command started
[cstruct: http] Command started
[astring: http] Command started
[astring.0.8.1] http://erratique.ch/software/astring/releases/astring-0.8.1.tbz downloaded
[fmt: http] Command started
[fmt: http] Command started
[fmt.0.7.1] http://erratique.ch/software/fmt/releases/fmt-0.7.1.tbz downloaded
[functoria: http] Command started
[cppo: http] Command started
[cppo.1.3.1] https://github.com/mjambon/cppo/archive/v1.3.1.tar.gz downloaded
[io-page: http] Command started
[functoria: http] Command started
[functoria.1.0.0] https://github.com/mirage/functoria/archive/1.0.0.tar.gz downloaded
[ipaddr: http] Command started
[cstruct: http] Command started
[cstruct.1.9.0] https://github.com/mirage/ocaml-cstruct/archive/v1.9.0.tar.gz downloaded
[lwt: http] Command started
[io-page: http] Command started
[io-page.1.6.0] https://github.com/mirage/io-page/archive/v1.6.0.tar.gz downloaded
[mirage: http] Command started
[ipaddr: http] Command started
[ipaddr.2.7.0] https://github.com/mirage/ocaml-ipaddr/archive/2.7.0.tar.gz downloaded
[mirage-types: http] Command started
[mirage: http] Command started
[mirage.2.7.1] https://github.com/mirage/mirage/archive/v2.7.1.tar.gz downloaded
[ocamlfind: http] Command started
[lwt: http] Command started
[lwt.2.5.1] https://github.com/ocsigen/lwt/archive/2.5.1.tar.gz downloaded
[ocamlgraph: http] Command started
[mirage-types: http] Command started
[mirage-types.2.6.0] https://github.com/mirage/mirage/archive/v2.6.0.tar.gz downloaded
[ocplib-endian: http] Command started
[ocamlgraph: http] Command started
[ocamlgraph.1.8.6] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.6.tar.gz downloaded
[ppx_core: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.6.2] http://download.camlcity.org/download/findlib-1.6.2.tar.gz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ppx_core.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/ppx_core-113.24.00.tar.gz downloaded
[ppx_driver: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.0.8] https://github.com/OCamlPro/ocplib-endian/archive/0.8.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.3.3] https://github.com/whitequark/ppx_deriving/archive/v3.3.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_driver: http] Command started
[ppx_driver.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/ppx_driver-113.24.00.tar.gz downloaded
[ppx_tools: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/ppx_optcomp-113.24.00.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/ppx_sexp_conv-113.24.00.tar.gz downloaded
[result: http] Command started
[ppx_tools: http] Command started
[ppx_tools.4.02.3] https://github.com/alainfrisch/ppx_tools/archive/v4.02.3.tar.gz downloaded
[rresult: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/ppx_type_conv-113.24.00.tar.gz downloaded
[sexplib: http] Command started
[rresult: http] Command started
[rresult.0.3.0] http://erratique.ch/software/rresult/releases/rresult-0.3.0.tbz downloaded
[type_conv: http] Command started
[type_conv: http] Command started
[type_conv.113.00.02] https://ocaml.janestreet.com/ocaml-core/113.00/files/type_conv-113.00.02.tar.gz downloaded
[sexplib: http] Command started
[sexplib.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/sexplib-113.24.00.tar.gz downloaded
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-m4: sh echo | m4] Command started
[conf-pkg-config: pkg-config] Command started
+ sh "-exc" "echo | m4" (CWD=/home/opam/.opam/4.02.3/build/conf-m4.1)
- 
- + m4
- + echo
-> installed conf-m4.1
[result: make] Command started
+ pkg-config "--help" (CWD=/home/opam/.opam/4.02.3/build/conf-pkg-config.1.0)
- Usage:
-   pkg-config [OPTION...]
- 
- Help Options:
-   -h, --help                              Show help options
- 
- Application Options:
-   --version                               output version of pkg-config
-   --modversion                            output version for package
-   --atleast-pkgconfig-version=VERSION     require given version of pkg-config
-   --libs                                  output all linker flags
-   --static                                output linker flags for static linking
-   --short-errors                          print short errors
-   --libs-only-l                           output -l flags
-   --libs-only-other                       output other libs (e.g. -pthread)
-   --libs-only-L                           output -L flags
-   --cflags                                output all pre-processor and compiler flags
-   --cflags-only-I                         output -I flags
-   --cflags-only-other                     output cflags not covered by the cflags-only-I option
-   --variable=NAME                         get the value of variable named NAME
-   --define-variable=NAME=VALUE            set variable NAME to VALUE
-   --exists                                return 0 if the module(s) exist
-   --print-variables                       output list of variables defined by the module
-   --uninstalled                           return 0 if the uninstalled version of one or more module(s) or their dependencies will be used
-   --atleast-version=VERSION               return 0 if the module is at least version VERSION
-   --exact-version=VERSION                 return 0 if the module is at exactly version VERSION
-   --max-version=VERSION                   return 0 if the module is at no newer than version VERSION
-   --list-all                              list all known packages
-   --debug                                 show verbose debug information
-   --print-errors                          show verbose information about missing or conflicting packages,default if --cflags or --libs given on the command line
-   --silence-errors                        be silent about errors (default unless --cflags or --libsgiven on the command line)
-   --errors-to-stdout                      print errors from --print-errors to stdout not stderr
-   --print-provides                        print which packages the package provides
-   --print-requires                        print which packages the package requires
-   --print-requires-private                print which packages the package requires for static linking
- 
-> installed conf-pkg-config.1.0
[conf-ncurses: pkg-config ncurses] Command started
+ pkg-config "ncurses" (CWD=/home/opam/.opam/4.02.3/build/conf-ncurses.1)
[91m[ERROR] The compilation of conf-ncurses failed at "pkg-config ncurses".
[0m+ make  (CWD=/home/opam/.opam/4.02.3/build/result.1.2)
- cp `ocaml which_result.ml` result.ml
- ocamlc -c result.ml
- ocamlc -a -o result.cma result.cmo
- ocamlopt -c result.ml
- ocamlopt -a -o result.cmxa result.cmx
- ocamlopt -shared -linkall -o result.cmxs result.cmxa || true
- ocaml gen_result_install.ml
-> installed result.1.2
[91m
#=== ERROR while installing conf-ncurses.1 ====================================#
# opam-version         1.2.2 (2dee5d69c0bd29731e6cb2ee537f0adf72404ba4)
# os                   linux
# command              pkg-config ncurses
# path                 /home/opam/.opam/4.02.3/build/conf-ncurses.1
# compiler             4.02.3
# exit-code            1
# env-file             /home/opam/.opam/4.02.3/build/conf-ncurses.1/conf-ncurses-192-326a35.env
# stdout-file          /home/opam/.opam/4.02.3/build/conf-ncurses.1/conf-ncurses-192-326a35.out
# stderr-file          /home/opam/.opam/4.02.3/build/conf-ncurses.1/conf-ncurses-192-326a35.err

[0m

=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions were aborted
  - install astring          0.8.1    
  - install base-bytes       base     
  - install cppo             1.3.1    
  - install cstruct          1.9.0    
  - install fmt              0.7.1    
  - install functoria        1.0.0    
  - install io-page          1.6.0    
  - install ipaddr           2.7.0    
  - install lwt              2.5.1    
  - install mirage           2.7.1    
  - install mirage-types     2.6.0    
  - install mirage-types-lwt 2.6.0    
  - install ocamlfind        1.6.2    
  - install ocamlgraph       1.8.6    
  - install ocplib-endian    0.8      
  - install ppx_core         113.24.00
  - install ppx_deriving     3.3      
  - install ppx_driver       113.24.00
  - install ppx_optcomp      113.24.00
  - install ppx_sexp_conv    113.24.00
  - install ppx_tools        4.02.3   
  - install ppx_type_conv    113.24.00
  - install rresult          0.3.0    
  - install sexplib          113.24.00
  - install type_conv        113.00.02
The following actions failed
  - install conf-ncurses 1
The following changes have been performed
  - install conf-m4         1  
  - install conf-pkg-config 1.0
  - install result          1.2

=-=- conf-ncurses.1 troobleshooting -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing.
   `opam depext conf-ncurses.1' may help you find the correct installation for
   your system.
[91m
The former state can be restored with:
    opam switch import "~/.opam/4.02.3/backup/state-20160218003538.export"
'opam install -y -j 2 -v mirage' failed.
[0mThe command '/bin/sh -c sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/samoht/opam-repository.git opam-publish/mirage.2.7.1 && opam update -u" &&   sudo -u opam sh -c "opam depext -u mirage" &&   sudo -u opam sh -c "opam install -y -j 2 -v mirage"' returned a non-zero code: 4
