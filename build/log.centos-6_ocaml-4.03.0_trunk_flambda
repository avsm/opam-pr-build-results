Running this Dockerfile:
FROM ocaml/opam:centos-6_ocaml-4.03.0_trunk_flambda
RUN sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" && \
  sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/gabelevi/opam-repository.git flowtype && opam update -u" && \
  sudo -u opam sh -c "opam depext -u flowtype" && \
  sudo -u opam sh -c "opam install -y -j 2 -v flowtype"Sending build context to Docker daemon 77.31 kB
Step 1 : FROM ocaml/opam:centos-6_ocaml-4.03.0_trunk_flambda
centos-6_ocaml-4.03.0_trunk_flambda: Pulling from ocaml/opam
a3ed95caeb02: Already exists
fc64c7ea2e33: Already exists
a3ed95caeb02: Already exists
a3ed95caeb02: Already exists
593055cbe2c7: Already exists
549e02e65d53: Pulling fs layer
d1200a9a8543: Pulling fs layer
549e02e65d53: Waiting
d1200a9a8543: Waiting
549e02e65d53: Download complete
549e02e65d53: Pull complete
549e02e65d53: Pull complete
d1200a9a8543: Verifying Checksum
d1200a9a8543: Download complete
d1200a9a8543: Pull complete
d1200a9a8543: Pull complete
Digest: sha256:c9950c9054b862ba588bda05c3876964a6fece564d0e17b76dfc32c923ed6ea1
Status: Downloaded newer image for ocaml/opam:centos-6_ocaml-4.03.0_trunk_flambda
 ---> 91aa4315c1f4
Step 2 : RUN sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/gabelevi/opam-repository.git flowtype && opam update -u" &&   sudo -u opam sh -c "opam depext -u flowtype" &&   sudo -u opam sh -c "opam install -y -j 2 -v flowtype"
 ---> Running in 9e841e43898a
[91mFrom git://github.com/ocaml/opam-repository
 * branch            master     -> FETCH_HEAD
[0mUpdating 2bd1001..8b11952
Fast-forward
 compilers/4.04.0/4.04.0+pr539/4.04.0+pr539.comp    |   11 ++++++
 compilers/4.04.0/4.04.0+pr539/4.04.0+pr539.descr   |    1 +
 compilers/4.04.0/4.04.0+pr540/4.04.0+pr540.comp    |   11 ++++++
 compilers/4.04.0/4.04.0+pr540/4.04.0+pr540.descr   |    1 +
 compilers/4.04.0/4.04.0+pr541/4.04.0+pr541.comp    |   11 ++++++
 compilers/4.04.0/4.04.0+pr541/4.04.0+pr541.descr   |    1 +
 compilers/4.04.0/4.04.0+pr542/4.04.0+pr542.comp    |   11 ++++++
 compilers/4.04.0/4.04.0+pr542/4.04.0+pr542.descr   |    1 +
 packages/bisect_ppx/bisect_ppx.0.1/opam            |    1 -
 packages/bisect_ppx/bisect_ppx.0.2.2/opam          |    1 -
 packages/bisect_ppx/bisect_ppx.0.2.3/opam          |    1 -
 packages/bisect_ppx/bisect_ppx.0.2.4/opam          |    1 -
 packages/bisect_ppx/bisect_ppx.0.2.5/opam          |    1 -
 packages/bisect_ppx/bisect_ppx.0.2.6/opam          |    1 -
 packages/bisect_ppx/bisect_ppx.0.2/opam            |    1 -
 packages/bisect_ppx/bisect_ppx.1.1.0/descr         |   19 -----------
 .../bisect_ppx.1.1.0/files/bisect_ppx.install      |    4 --
 packages/bisect_ppx/bisect_ppx.1.1.0/opam          |   27 ---------------
 packages/bisect_ppx/bisect_ppx.1.1.0/url           |    2 -
 packages/caml-mode/caml-mode.4.02/opam             |    7 +---
 packages/conf-emacs/conf-emacs.1/descr             |    3 ++
 packages/conf-emacs/conf-emacs.1/opam              |   16 +++++++++
 packages/conf-vim/conf-vim.1/descr                 |    3 ++
 packages/conf-vim/conf-vim.1/opam                  |   16 +++++++++
 packages/imagelib/imagelib.20160413/descr          |   17 +++++++++
 packages/imagelib/imagelib.20160413/opam           |   19 +++++++++++
 packages/imagelib/imagelib.20160413/url            |    2 +
 packages/mirage-http/mirage-http.2.5.2/descr       |    1 +
 packages/mirage-http/mirage-http.2.5.2/opam        |   21 ++++++++++++
 packages/mirage-http/mirage-http.2.5.2/url         |    2 +
 .../ocamlbuild-protoc/ocamlbuild-protoc.0.1/descr  |    3 ++
 .../ocamlbuild-protoc/ocamlbuild-protoc.0.1/opam   |   15 ++++++++
 .../ocamlbuild-protoc/ocamlbuild-protoc.0.1/url    |    2 +
 .../ppx_jsobject_conv.0.0.6/descr                  |    6 +++
 .../ppx_jsobject_conv/ppx_jsobject_conv.0.0.6/opam |   22 ++++++++++++
 .../ppx_jsobject_conv/ppx_jsobject_conv.0.0.6/url  |    3 ++
 .../ppx_jsobject_conv.0.1.0/descr                  |    6 +++
 .../ppx_jsobject_conv/ppx_jsobject_conv.0.1.0/opam |   22 ++++++++++++
 .../ppx_jsobject_conv/ppx_jsobject_conv.0.1.0/url  |    3 ++
 packages/tuareg/tuareg.2.0.9/opam                  |    7 +---
 packages/x509/x509.0.5.2/descr                     |    4 ++
 packages/x509/x509.0.5.2/findlib                   |    1 +
 packages/x509/x509.0.5.2/opam                      |   35 ++++++++++++++++++++
 packages/x509/x509.0.5.2/url                       |    2 +
 44 files changed, 274 insertions(+), 71 deletions(-)
 create mode 100644 compilers/4.04.0/4.04.0+pr539/4.04.0+pr539.comp
 create mode 100644 compilers/4.04.0/4.04.0+pr539/4.04.0+pr539.descr
 create mode 100644 compilers/4.04.0/4.04.0+pr540/4.04.0+pr540.comp
 create mode 100644 compilers/4.04.0/4.04.0+pr540/4.04.0+pr540.descr
 create mode 100644 compilers/4.04.0/4.04.0+pr541/4.04.0+pr541.comp
 create mode 100644 compilers/4.04.0/4.04.0+pr541/4.04.0+pr541.descr
 create mode 100644 compilers/4.04.0/4.04.0+pr542/4.04.0+pr542.comp
 create mode 100644 compilers/4.04.0/4.04.0+pr542/4.04.0+pr542.descr
 delete mode 100644 packages/bisect_ppx/bisect_ppx.1.1.0/descr
 delete mode 100644 packages/bisect_ppx/bisect_ppx.1.1.0/files/bisect_ppx.install
 delete mode 100644 packages/bisect_ppx/bisect_ppx.1.1.0/opam
 delete mode 100644 packages/bisect_ppx/bisect_ppx.1.1.0/url
 create mode 100644 packages/conf-emacs/conf-emacs.1/descr
 create mode 100644 packages/conf-emacs/conf-emacs.1/opam
 create mode 100644 packages/conf-vim/conf-vim.1/descr
 create mode 100644 packages/conf-vim/conf-vim.1/opam
 create mode 100644 packages/imagelib/imagelib.20160413/descr
 create mode 100644 packages/imagelib/imagelib.20160413/opam
 create mode 100644 packages/imagelib/imagelib.20160413/url
 create mode 100644 packages/mirage-http/mirage-http.2.5.2/descr
 create mode 100644 packages/mirage-http/mirage-http.2.5.2/opam
 create mode 100644 packages/mirage-http/mirage-http.2.5.2/url
 create mode 100644 packages/ocamlbuild-protoc/ocamlbuild-protoc.0.1/descr
 create mode 100644 packages/ocamlbuild-protoc/ocamlbuild-protoc.0.1/opam
 create mode 100644 packages/ocamlbuild-protoc/ocamlbuild-protoc.0.1/url
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.0.6/descr
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.0.6/opam
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.0.6/url
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.1.0/descr
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.1.0/opam
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.1.0/url
 create mode 100644 packages/x509/x509.0.5.2/descr
 create mode 100644 packages/x509/x509.0.5.2/findlib
 create mode 100644 packages/x509/x509.0.5.2/opam
 create mode 100644 packages/x509/x509.0.5.2/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[depext: git] Command started
[depext: git] Command started
[depext: git] Command started
[depext: git] Command started
[depext] https://github.com/ocaml/opam-depext.git already up-to-date

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
[91mFrom https://github.com/gabelevi/opam-repository
 * branch            flowtype   -> FETCH_HEAD
[0mMerge made by recursive.
 packages/flowtype/flowtype.0.23.0/descr            |   15 +++++++++++
 .../flowtype.0.23.0/files/flowtype.install         |    1 +
 packages/flowtype/flowtype.0.23.0/opam             |   27 ++++++++++++++++++++
 packages/flowtype/flowtype.0.23.0/url              |    2 +
 4 files changed, 45 insertions(+), 0 deletions(-)
 create mode 100644 packages/flowtype/flowtype.0.23.0/descr
 create mode 100644 packages/flowtype/flowtype.0.23.0/files/flowtype.install
 create mode 100644 packages/flowtype/flowtype.0.23.0/opam
 create mode 100644 packages/flowtype/flowtype.0.23.0/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[depext: git] Command started
[depext: git] Command started
[depext: git] Command started
[depext: git] Command started
[depext] https://github.com/ocaml/opam-depext.git already up-to-date

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
# Detecting depexts using flags: x86_64 linux centos
# The following system packages are needed:
#  - elfutils-libelf-devel
#  - m4
#  - ncurses-devel
#  - pkgconfig
package elfutils-libelf-devel is not installed
Name        : m4                           Relocations: (not relocatable)
Version     : 1.4.13                            Vendor: CentOS
Release     : 5.el6                         Build Date: Thu Nov 11 17:17:34 2010
Install Date: Fri Apr  8 10:48:44 2016         Build Host: c6b3.bsys.dev.centos.org
Group       : Applications/Text             Source RPM: m4-1.4.13-5.el6.src.rpm
Size        : 560949                           License: GPLv3+
Signature   : RSA/8, Sun Jul  3 04:44:33 2011, Key ID 0946fca2c105b9de
Packager    : CentOS BuildSystem <http://bugs.centos.org>
URL         : http://www.gnu.org/software/m4/
Summary     : The GNU macro processor
Description :
A GNU implementation of the traditional UNIX macro processor.  M4 is
useful for writing text files which can be logically parsed, and is used
by many programs as part of their build process.  M4 has built-in
functions for including files, running shell commands, doing arithmetic,
etc.  The autoconf program needs m4 for generating configure scripts, but
not for running configure scripts.

Install m4 if you need a macro processor.
Name        : ncurses-devel                Relocations: (not relocatable)
Version     : 5.7                               Vendor: CentOS
Release     : 4.20090207.el6                Build Date: Mon Mar 16 08:54:02 2015
Install Date: Fri Apr  8 10:49:29 2016         Build Host: c6b9.bsys.dev.centos.org
Group       : Development/Libraries         Source RPM: ncurses-5.7-4.20090207.el6.src.rpm
Size        : 1795830                          License: MIT
Signature   : RSA/SHA1, Mon Mar 16 14:43:08 2015, Key ID 0946fca2c105b9de
Packager    : CentOS BuildSystem <http://bugs.centos.org>
URL         : http://invisible-island.net/ncurses/ncurses.html
Summary     : Development files for the ncurses library
Description :
The header files and libraries for developing applications that use
the ncurses terminal handling library.

Install the ncurses-devel package if you want to develop applications
which will use ncurses.
Name        : pkgconfig                    Relocations: (not relocatable)
Version     : 0.23                              Vendor: CentOS
Release     : 9.1.el6                       Build Date: Thu Aug 19 03:30:32 2010
Install Date: Thu Mar 31 18:36:35 2016         Build Host: c6b1.bsys.dev.centos.org
Group       : Development/Tools             Source RPM: pkgconfig-0.23-9.1.el6.src.rpm
Size        : 140091                           License: GPLv2+
Signature   : RSA/8, Sun Jul  3 04:57:05 2011, Key ID 0946fca2c105b9de
Packager    : CentOS BuildSystem <http://bugs.centos.org>
URL         : http://pkgconfig.freedesktop.org
Summary     : A tool for determining compilation options
Description :
The pkgconfig tool determines compilation options. For each required
library, it reads the configuration file and outputs the necessary
compiler and linker flags.
# The following new OS packages need to be installed: elfutils-libelf-devel
The following command needs to be run through "sudo":
    yum -y update
Loaded plugins: fastestmirror
Setting up Update Process
Determining fastest mirrors
 * base: www.mirrorservice.org
 * extras: mirror.as29550.net
 * updates: centos.serverspace.co.uk
Resolving Dependencies
--> Running transaction check
---> Package nspr.x86_64 0:4.10.8-2.el6_7 will be updated
---> Package nspr.x86_64 0:4.11.0-0.1.el6_7 will be an update
---> Package nss.x86_64 0:3.19.1-8.el6_7 will be updated
---> Package nss.x86_64 0:3.21.0-0.3.el6_7 will be an update
---> Package nss-sysinit.x86_64 0:3.19.1-8.el6_7 will be updated
---> Package nss-sysinit.x86_64 0:3.21.0-0.3.el6_7 will be an update
---> Package nss-tools.x86_64 0:3.19.1-8.el6_7 will be updated
---> Package nss-tools.x86_64 0:3.21.0-0.3.el6_7 will be an update
---> Package nss-util.x86_64 0:3.19.1-5.el6_7 will be updated
---> Package nss-util.x86_64 0:3.21.0-0.3.el6_7 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package            Arch          Version                  Repository      Size
================================================================================
Updating:
 nspr               x86_64        4.11.0-0.1.el6_7         updates        114 k
 nss                x86_64        3.21.0-0.3.el6_7         updates        858 k
 nss-sysinit        x86_64        3.21.0-0.3.el6_7         updates         46 k
 nss-tools          x86_64        3.21.0-0.3.el6_7         updates        435 k
 nss-util           x86_64        3.21.0-0.3.el6_7         updates         67 k

Transaction Summary
================================================================================
Upgrade       5 Package(s)

Total download size: 1.5 M
Downloading Packages:
--------------------------------------------------------------------------------
Total                                           1.7 MB/s | 1.5 MB     00:00     
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Updating   : nspr-4.11.0-0.1.el6_7.x86_64                                1/10 
  Updating   : nss-util-3.21.0-0.3.el6_7.x86_64                            2/10 
  Updating   : nss-sysinit-3.21.0-0.3.el6_7.x86_64                         3/10 
  Updating   : nss-3.21.0-0.3.el6_7.x86_64                                 4/10 
  Updating   : nss-tools-3.21.0-0.3.el6_7.x86_64                           5/10 
  Cleanup    : nss-tools-3.19.1-8.el6_7.x86_64                             6/10 
  Cleanup    : nss-3.19.1-8.el6_7.x86_64                                   7/10 
  Cleanup    : nss-sysinit-3.19.1-8.el6_7.x86_64                           8/10 
  Cleanup    : nss-util-3.19.1-5.el6_7.x86_64                              9/10 
  Cleanup    : nspr-4.10.8-2.el6_7.x86_64                                 10/10 
  Verifying  : nss-util-3.21.0-0.3.el6_7.x86_64                            1/10 
  Verifying  : nss-sysinit-3.21.0-0.3.el6_7.x86_64                         2/10 
  Verifying  : nss-3.21.0-0.3.el6_7.x86_64                                 3/10 
  Verifying  : nss-tools-3.21.0-0.3.el6_7.x86_64                           4/10 
  Verifying  : nspr-4.11.0-0.1.el6_7.x86_64                                5/10 
  Verifying  : nss-3.19.1-8.el6_7.x86_64                                   6/10 
  Verifying  : nspr-4.10.8-2.el6_7.x86_64                                  7/10 
  Verifying  : nss-util-3.19.1-5.el6_7.x86_64                              8/10 
  Verifying  : nss-tools-3.19.1-8.el6_7.x86_64                             9/10 
  Verifying  : nss-sysinit-3.19.1-8.el6_7.x86_64                          10/10 

Updated:
  nspr.x86_64 0:4.11.0-0.1.el6_7          nss.x86_64 0:3.21.0-0.3.el6_7        
  nss-sysinit.x86_64 0:3.21.0-0.3.el6_7   nss-tools.x86_64 0:3.21.0-0.3.el6_7  
  nss-util.x86_64 0:3.21.0-0.3.el6_7     

Complete!
# OS package update successful
The following command needs to be run through "sudo":
    yum install -y elfutils-libelf-devel
Loaded plugins: fastestmirror
Setting up Install Process
Loading mirror speeds from cached hostfile
 * base: www.mirrorservice.org
 * extras: mirror.as29550.net
 * updates: centos.serverspace.co.uk
Resolving Dependencies
--> Running transaction check
---> Package elfutils-libelf-devel.x86_64 0:0.161-3.el6 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                     Arch         Version              Repository  Size
================================================================================
Installing:
 elfutils-libelf-devel       x86_64       0.161-3.el6          base        31 k

Transaction Summary
================================================================================
Install       1 Package(s)

Total download size: 31 k
Installed size: 26 k
Downloading Packages:
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing : elfutils-libelf-devel-0.161-3.el6.x86_64                     1/1 
  Verifying  : elfutils-libelf-devel-0.161-3.el6.x86_64                     1/1 

Installed:
  elfutils-libelf-devel.x86_64 0:0.161-3.el6                                    

Complete!
The following command needs to be run through "sudo":
    rpm -q elfutils-libelf-devel
elfutils-libelf-devel-0.161-3.el6.x86_64
# OS packages installation successful
The following actions will be performed:
  - install conf-pkg-config 1.0                                 [required by conf-ncurses]
  - install conf-m4         1                                   [required by ocamlfind]
  - install conf-ncurses    1                                   [required by ocamlfind]
  - install ocamlfind       1.6.2                               [required by base-bytes]
  - install base-bytes      base                                [required by flowtype]
  - install flowtype        0.23.0
===== 6 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[flowtype: http] Command started
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.6.2] http://download.camlcity.org/download/findlib-1.6.2.tar.gz downloaded
[flowtype: http] Command started
[flowtype.0.23.0] https://github.com/facebook/flow/archive/v0.23.0.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-m4: sh echo | m4] Command started
[conf-pkg-config: pkg-config] Command started
+ pkg-config "--help" (CWD=/home/opam/.opam/4.03.0+trunk+flambda/build/conf-pkg-config.1.0)
- Usage: pkg-config [OPTION...]
-   --version                                      output version of pkg-config
-   --modversion                                   output version for package
-   --atleast-pkgconfig-version=VERSION            require given version of
-                                                  pkg-config
-   --libs                                         output all linker flags
-   --static                                       output linker flags for
-                                                  static linking
-   --short-errors                                 print short errors
-   --libs-only-l                                  output -l flags
-   --libs-only-other                              output other libs (e.g.
-                                                  -pthread)
-   --libs-only-L                                  output -L flags
-   --cflags                                       output all pre-processor and
-                                                  compiler flags
-   --cflags-only-I                                output -I flags
-   --cflags-only-other                            output cflags not covered by
-                                                  the cflags-only-I option
-   --variable=VARIABLENAME                        get the value of a variable
-   --define-variable=VARIABLENAME=VARIABLEVALUE   set the value of a variable
-   --exists                                       return 0 if the module(s)
-                                                  exist
-   --uninstalled                                  return 0 if the uninstalled
-                                                  version of one or more
-                                                  module(s) or their
-                                                  dependencies will be used
-   --atleast-version=VERSION                      return 0 if the module is at
-                                                  least version VERSION
-   --exact-version=VERSION                        return 0 if the module is at
-                                                  exactly version VERSION
-   --max-version=VERSION                          return 0 if the module is at
-                                                  no newer than version VERSION
-   --list-all                                     list all known packages
-   --debug                                        show verbose debug information
-   --print-errors                                 show verbose information
-                                                  about missing or conflicting
-                                                  packages
-   --silence-errors                               show verbose information
-                                                  about missing or conflicting
-                                                  packages
-   --errors-to-stdout                             print errors from
-                                                  --print-errors to stdout not
-                                                  stderr
-   --print-provides                               print which packages the
-                                                  package provides
-   --print-requires                               print which packages the
-                                                  package requires
- 
- Help options
-   -?, --help                                     Show this help message
-   --usage                                        Display brief usage message
-> installed conf-pkg-config.1.0
[conf-ncurses: pkg-config ncurses] Command started
+ sh "-exc" "echo | m4" (CWD=/home/opam/.opam/4.03.0+trunk+flambda/build/conf-m4.1)
- 
- + echo
- + m4
-> installed conf-m4.1
+ pkg-config "ncurses" (CWD=/home/opam/.opam/4.03.0+trunk+flambda/build/conf-ncurses.1)
-> installed conf-ncurses.1
[ocamlfind: ./configure] Command started
+ ./configure "-bindir" "/home/opam/.opam/4.03.0+trunk+flambda/bin" "-sitelib" "/home/opam/.opam/4.03.0+trunk+flambda/lib" "-mandir" "/home/opam/.opam/4.03.0+trunk+flambda/man" "-config" "/home/opam/.opam/4.03.0+trunk+flambda/lib/findlib.conf" (CWD=/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2)
- Welcome to findlib version 1.6.2
- Configuring core...
- Checking for #remove_directory...
- Testing threading model...
- systhread_supported: true
- Testing DLLs...
- Testing whether ppxopt can be supported...
- Configuring libraries...
- native dynlink: found
- labltk: not present
- ocamlbuild: not present
- camlp4: using camlp4, style 310
- compiler-libs: found
- dbm: not present (normal since OCaml-4.00)
- bytes: found, installing fake library
- Configuration for dynlink written to site-lib-src/dynlink/META
- Configuration for graphics written to site-lib-src/graphics/META
- Configuration for num written to site-lib-src/num/META
- Configuration for num-top written to site-lib-src/num-top/META
- Configuration for str written to site-lib-src/str/META
- Configuration for threads written to site-lib-src/threads/META
- Configuration for unix written to site-lib-src/unix/META
- Configuration for stdlib written to site-lib-src/stdlib/META
- Configuration for bigarray written to site-lib-src/bigarray/META
- Configuration for ocamldoc written to site-lib-src/ocamldoc/META
- Configuration for camlp4 written to site-lib-src/camlp4/META
- Configuration for compiler-libs written to site-lib-src/compiler-libs/META
- Configuration for bytes written to site-lib-src/bytes/META
- Detecting compiler arguments: (extractor built) ok
- 
- About the OCAML core installation:
-     Standard library:      /home/opam/.opam/4.03.0+trunk+flambda/lib/ocaml
-     Binaries:              /home/opam/.opam/4.03.0+trunk+flambda/bin
-     Manual pages:          /home/opam/.opam/4.03.0+trunk+flambda/man
-     Multi-threading type:  posix
- The directory of site-specific packages will be
-     site-lib:              /home/opam/.opam/4.03.0+trunk+flambda/lib
- The configuration file is written to:
-     findlib config file:   /home/opam/.opam/4.03.0+trunk+flambda/lib/findlib.conf
- Software will be installed:
-     Libraries:             in <site-lib>/findlib
-     Binaries:              /home/opam/.opam/4.03.0+trunk+flambda/bin
-     Manual pages:          /home/opam/.opam/4.03.0+trunk+flambda/man
-     topfind script:        /home/opam/.opam/4.03.0+trunk+flambda/lib/ocaml
- Topfind ppxopt support:    yes
- Toolbox:                   no
- Link custom runtime:       yes
- Need bytes compatibility:  no
- 
- Configuration has been written to Makefile.config
- 
- You can now do 'make all', and optionally 'make opt', to build ocamlfind.
[ocamlfind: make all] Command started
+ make "all" (CWD=/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2)
- for p in findlib; do ( cd src/$p; make all ) || exit; done
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- ocamllex fl_meta.mll
- 22 states, 392 transitions, table size 1700 bytes
- ocamldep *.ml *.mli >depend
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- USE_CYGPATH="0"; \
- 	export USE_CYGPATH; \
- 	cat findlib_config.mlp | \
- 		../../tools/patch '@CONFIGFILE@' '/home/opam/.opam/4.03.0+trunk+flambda/lib/findlib.conf' | \
- 		../../tools/patch '@STDLIB@' '/home/opam/.opam/4.03.0+trunk+flambda/lib/ocaml' | \
- 		sed -e 's;@AUTOLINK@;true;g' \
- 		    -e 's;@SYSTEM@;linux;g' \
- 		     >findlib_config.ml
- ocamlc -I +compiler-libs -g -c findlib_config.ml
- ocamlc -I +compiler-libs -g -c fl_split.ml
- ocamlc -I +compiler-libs -g -c fl_metatoken.ml
- ocamlc -I +compiler-libs -g -c fl_meta.ml
- ocamlc -I +compiler-libs -c fl_metascanner.mli
- ocamlc -I +compiler-libs -g -c fl_metascanner.ml
- ocamlc -I +compiler-libs -c fl_topo.mli
- ocamlc -I +compiler-libs -g -c fl_topo.ml
- ocamlc -I +compiler-libs -c fl_package_base.mli
- ocamlc -I +compiler-libs -g -c fl_package_base.ml
- ocamlc -I +compiler-libs -c findlib.mli
- Makefile:175: depend: No such file or directory
- ocamlc -I +compiler-libs -g -c findlib.ml
- ocamlc -I +compiler-libs -g -c fl_args.ml
- ocamlc -I +compiler-libs -g -c fl_lint.ml
- ocamlc -I +compiler-libs -a -o findlib.cma findlib_config.cmo fl_split.cmo fl_metatoken.cmo fl_meta.cmo fl_metascanner.cmo fl_topo.cmo fl_package_base.cmo findlib.cmo fl_args.cmo fl_lint.cmo
- ocamlc -I +compiler-libs -g -c ocaml_args.ml
- ocamlc -I +compiler-libs -g -c frontend.ml
- File "frontend.ml", line 1787, characters 16-29:
- Warning 3: deprecated: String.create
- Use Bytes.create instead.
- File "frontend.ml", line 2184, characters 25-41:
- Warning 3: deprecated: String.lowercase
- Use String.lowercase_ascii instead.
- File "frontend.ml", line 2189, characters 16-32:
- Warning 3: deprecated: String.lowercase
- Use String.lowercase_ascii instead.
- ocamlc -I +compiler-libs -custom -o ocamlfind -g findlib.cma unix.cma \
- 	           ocaml_args.cmo frontend.cmo
- if [ "true" = "true" ]; then                 \
- 		cp topfind.ml.in topfind.ml;                             \
- 	else                                                             \
- 		sed -e '/PPXOPT_BEGIN/,/PPXOPT_END/ d' topfind.ml.in     \
- 			> topfind.ml ;                                   \
- 	fi
- ocamlc -I +compiler-libs -c topfind.mli
- ocamlc -I +compiler-libs -g -c topfind.ml
- ocamlc -I +compiler-libs -a -o findlib_top.cma topfind.cmo
- USE_CYGPATH="0"; \
- 	export USE_CYGPATH; \
- 	cat topfind_rd1.p | \
- 		../../tools/patch '@SITELIB@' '/home/opam/.opam/4.03.0+trunk+flambda/lib' \
- 	    	    >topfind
- ocamlc -I +compiler-libs -c num_top_printers.mli
- ocamlc -I +compiler-libs -g -c num_top_printers.ml
- ocamlc -I +compiler-libs -c num_top.mli
- ocamlc -I +compiler-libs -g -c num_top.ml
- ocamlc -I +compiler-libs -a -o num_top.cma num_top_printers.cmo num_top.cmo
- ocamlc -I +compiler-libs -c fl_dynload.mli
- ocamlc -I +compiler-libs -g -c fl_dynload.ml
- ocamlc -I +compiler-libs -a -o findlib_dynload.cma fl_dynload.cmo
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- make all-config
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2'
- USE_CYGPATH="0"; \
- 	export USE_CYGPATH; \
- 	cat findlib.conf.in | \
- 		tools/patch '@SITELIB@' '/home/opam/.opam/4.03.0+trunk+flambda/lib' >findlib.conf
- if ocamlc.opt >/dev/null 2>&1; then \
- 		echo 'ocamlc="ocamlc.opt"' >>findlib.conf; \
- 	fi
- if ocamlopt.opt >/dev/null 2>&1; then \
- 		echo 'ocamlopt="ocamlopt.opt"' >>findlib.conf; \
- 	fi
- if ocamldep.opt >/dev/null 2>&1; then \
- 		echo 'ocamldep="ocamldep.opt"' >>findlib.conf; \
- 	fi
- if ocamldoc.opt >/dev/null 2>&1; then \
- 		echo 'ocamldoc="ocamldoc.opt"' >>findlib.conf; \
- 	fi
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2'
[ocamlfind: make opt] Command started
+ make "opt" (CWD=/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2)
- for p in findlib; do ( cd src/$p; make opt ) || exit; done
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- ocamldep *.ml *.mli >depend
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- ocamlopt -I +compiler-libs -c findlib_config.ml
- ocamlopt -I +compiler-libs -c fl_split.ml
- ocamlopt -I +compiler-libs -c fl_metatoken.ml
- ocamlopt -I +compiler-libs -c fl_meta.ml
- ocamlopt -I +compiler-libs -c fl_metascanner.ml
- ocamlopt -I +compiler-libs -c fl_topo.ml
- ocamlopt -I +compiler-libs -c fl_package_base.ml
- ocamlopt -I +compiler-libs -c findlib.ml
- ocamlopt -I +compiler-libs -c fl_args.ml
- ocamlopt -I +compiler-libs -c fl_lint.ml
- ocamlopt -I +compiler-libs -a -o findlib.cmxa findlib_config.cmx fl_split.cmx fl_metatoken.cmx fl_meta.cmx fl_metascanner.cmx fl_topo.cmx fl_package_base.cmx findlib.cmx fl_args.cmx fl_lint.cmx
- if [ 1 -gt 0 ]; then \
- 	    ocamlopt -I +compiler-libs -shared -o findlib.cmxs findlib_config.cmx fl_split.cmx fl_metatoken.cmx fl_meta.cmx fl_metascanner.cmx fl_topo.cmx fl_package_base.cmx findlib.cmx fl_args.cmx fl_lint.cmx; \
- 	fi
- ocamlopt -I +compiler-libs -c ocaml_args.ml
- ocamlopt -I +compiler-libs -c frontend.ml
- File "frontend.ml", line 1787, characters 16-29:
- Warning 3: deprecated: String.create
- Use Bytes.create instead.
- File "frontend.ml", line 2184, characters 25-41:
- Warning 3: deprecated: String.lowercase
- Use String.lowercase_ascii instead.
- File "frontend.ml", line 2189, characters 16-32:
- Warning 3: deprecated: String.lowercase
- Use String.lowercase_ascii instead.
- ocamlopt -I +compiler-libs -o ocamlfind_opt findlib.cmxa unix.cmxa \
- 		   ocaml_args.cmx frontend.cmx
- ocamlopt -I +compiler-libs -c fl_dynload.ml
- ocamlopt -I +compiler-libs -a -o findlib_dynload.cmxa fl_dynload.cmx
- if [ 1 -gt 0 ]; then \
- 	    ocamlopt -I +compiler-libs -shared -o findlib_dynload.cmxs fl_dynload.cmx; \
- 	fi
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
[ocamlfind: make install] Command started
+ make "install" (CWD=/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2)
- mkdir -p "/home/opam/.opam/4.03.0+trunk+flambda/bin"
- mkdir -p "/home/opam/.opam/4.03.0+trunk+flambda/man"
- make install-config
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2'
- mkdir -p "`dirname \"/home/opam/.opam/4.03.0+trunk+flambda/lib/findlib.conf\"`"
- test -f "/home/opam/.opam/4.03.0+trunk+flambda/lib/findlib.conf" || cp findlib.conf "/home/opam/.opam/4.03.0+trunk+flambda/lib/findlib.conf"
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2'
- for p in findlib; do ( cd src/$p; make install ); done
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- mkdir -p "/home/opam/.opam/4.03.0+trunk+flambda/lib/findlib"
- mkdir -p "/home/opam/.opam/4.03.0+trunk+flambda/bin"
- test 1 -eq 0 || cp topfind "/home/opam/.opam/4.03.0+trunk+flambda/lib/ocaml"
- files=`../../tools/collect_files ../../Makefile.config findlib.cmi findlib.mli findlib.cma topfind.cmi topfind.mli fl_package_base.mli fl_package_base.cmi fl_metascanner.mli fl_metascanner.cmi fl_metatoken.cmi findlib_top.cma findlib.cmxa findlib.a findlib.cmxs findlib_dynload.cma findlib_dynload.cmxa findlib_dynload.a findlib_dynload.cmxs fl_dynload.mli fl_dynload.cmi META` && \
- 	cp $files "/home/opam/.opam/4.03.0+trunk+flambda/lib/findlib"
- f="ocamlfind"; { test -f ocamlfind_opt && f="ocamlfind_opt"; }; \
- 	cp $f "/home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlfind"
- # the following "if" block is only needed for 4.00beta2
- if [ 1 -eq 0 -a -f "/home/opam/.opam/4.03.0+trunk+flambda/lib/ocaml/compiler-libs/topdirs.cmi" ]; then \
- 	    cd "/home/opam/.opam/4.03.0+trunk+flambda/lib/ocaml/compiler-libs/"; \
- 	    cp topdirs.cmi toploop.cmi "/home/opam/.opam/4.03.0+trunk+flambda/lib/findlib/"; \
- 	fi
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- make install-meta
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2'
- for x in `ls site-lib-src`; do if [ -f "site-lib-src/$x/META" ]; then mkdir -p "/home/opam/.opam/4.03.0+trunk+flambda/lib/$x"; cp site-lib-src/$x/META "/home/opam/.opam/4.03.0+trunk+flambda/lib/$x"; fi; done
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2'
- cd src/findlib; make install-num-top
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- mkdir -p "/home/opam/.opam/4.03.0+trunk+flambda/lib/num-top"
- cp num_top.cma num_top.cmi num_top_printers.cmi \
- 		"/home/opam/.opam/4.03.0+trunk+flambda/lib/num-top"
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2/src/findlib'
- if [ 1 -eq 1 ]; then \
- 		cp tools/safe_camlp4 "/home/opam/.opam/4.03.0+trunk+flambda/bin"; \
- 	fi
- make install-doc
- make[1]: Entering directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2'
- mkdir -p "/home/opam/.opam/4.03.0+trunk+flambda/man/man1" "/home/opam/.opam/4.03.0+trunk+flambda/man/man3 /home/opam/.opam/4.03.0+trunk+flambda/man/man5"
- cp doc/ref-man/ocamlfind.1 "/home/opam/.opam/4.03.0+trunk+flambda/man/man1"
- cp doc/ref-man/META.5 doc/ref-man/site-lib.5 doc/ref-man/findlib.conf.5 "/home/opam/.opam/4.03.0+trunk+flambda/man/man5"
- make[1]: Leaving directory `/home/opam/.opam/4.03.0+trunk+flambda/build/ocamlfind.1.6.2'
-> installed ocamlfind.1.6.2
-> installed base-bytes.base
[flowtype: make] Command started
+ make  (CWD=/home/opam/.opam/4.03.0+trunk+flambda/build/flowtype.0.23.0)
- mkdir -p bin
- tar czf bin/flowlib.tar.gz -C lib .
- OUT="const char* const BuildInfo_kRevision = \"$(git rev-parse HEAD || hg id -i)\"; \
- 	const unsigned long BuildInfo_kRevisionCommitTimeUnix = $(git log -1 --pretty=format:%ct || echo $(hg log -r . -T \{date\} | grep -o ^[^.]* || echo 0))ul;"; \
- 	if [ "$OUT" != "$(cat utils/get_build_id.gen.c 2>/dev/null)" ]; then echo "$OUT" > hack/utils/get_build_id.gen.c; fi
- mkdir -p _build/hack/third-party/inotify/
- cp hack/third-party/inotify/inotify_compat.h _build/hack/third-party/inotify/inotify_compat.h
- mkdir -p _build/hack/third-party/libancillary/
- cp hack/third-party/libancillary/ancillary.h _build/hack/third-party/libancillary/ancillary.h
- ocamlbuild -ocamlc "ocamlopt   -ccopt -DNO_LZ4"\
- 		hack/third-party/inotify/inotify_stubs.o hack/heap/hh_shared.o hack/hhi/hhi_elf.o hack/utils/files.o hack/utils/get_build_id.gen.o hack/utils/get_build_id.o hack/utils/handle_stubs.o hack/utils/nproc.o hack/utils/realpath.o hack/utils/sysinfo.o hack/utils/priorities.o hack/utils/win32_support.o hack/hhi/hhi_win32res_stubs.o src/embedded/flowlib_elf.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/third-party/inotify/inotify_stubs.c
- mv inotify_stubs.o hack/third-party/inotify/inotify_stubs.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/heap/hh_shared.c
- fatal: Not a git repository (or any of the parent directories): .git
- /bin/sh: line 1: hg: command not found
- fatal: Not a git repository (or any of the parent directories): .git
- /bin/sh: line 1: hg: command not found
- + ocamlopt   -ccopt -DNO_LZ4 -c hack/heap/hh_shared.c
- hack/heap/hh_shared.c:172: warning: 'MAGIC_CONSTANT' defined but not used
- mv hh_shared.o hack/heap/hh_shared.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/hhi/hhi_elf.c
- + ocamlopt   -ccopt -DNO_LZ4 -c hack/hhi/hhi_elf.c
- hack/hhi/hhi_elf.c: In function 'get_embedded_hhi_data':
- hack/hhi/hhi_elf.c:116: warning: 'elf_getshstrndx' is deprecated (declared at /usr/include/libelf.h:260)
- mv hhi_elf.o hack/hhi/hhi_elf.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/utils/files.c
- mv files.o hack/utils/files.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/utils/get_build_id.gen.c
- mv get_build_id.gen.o hack/utils/get_build_id.gen.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/utils/get_build_id.c
- mv get_build_id.o hack/utils/get_build_id.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/utils/handle_stubs.c
- mv handle_stubs.o hack/utils/handle_stubs.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/utils/nproc.c
- mv nproc.o hack/utils/nproc.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/utils/realpath.c
- mv realpath.o hack/utils/realpath.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/utils/sysinfo.c
- mv sysinfo.o hack/utils/sysinfo.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/utils/priorities.c
- mv priorities.o hack/utils/priorities.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/utils/win32_support.c
- mv win32_support.o hack/utils/win32_support.o
- ocamlopt   -ccopt -DNO_LZ4 -c hack/hhi/hhi_win32res_stubs.c
- mv hhi_win32res_stubs.o hack/hhi/hhi_win32res_stubs.o
- ocamlopt   -ccopt -DNO_LZ4 -c src/embedded/flowlib_elf.c
- + ocamlopt   -ccopt -DNO_LZ4 -c src/embedded/flowlib_elf.c
- src/embedded/flowlib_elf.c: In function 'get_embedded_flowlib_data':
- src/embedded/flowlib_elf.c:115: warning: 'elf_getshstrndx' is deprecated (declared at /usr/include/libelf.h:260)
- mv flowlib_elf.o src/embedded/flowlib_elf.o
- ocamlbuild  -no-links  -I src/commands -I src/common -I src/dts -I src/embedded -I src/parser -I src/parsing -I src/server -I src/services/autocomplete -I src/services/inference -I src/services/port -I src/stubs -I src/typing -I hack/dfind -I hack/find -I hack/globals -I hack/heap -I hack/hhi -I hack/procs -I hack/search -I hack/socket -I hack/stubs -I hack/third-party/avl -I hack/third-party/core -I hack/utils -I hack/utils/collections -I hack/utils/hh_json -I hack/third-party/inotify -I hack/fsnotify_linux -lib unix -lib str -lib bigarray -lflags "hack/third-party/inotify/inotify_stubs.o hack/heap/hh_shared.o hack/hhi/hhi_elf.o hack/utils/files.o hack/utils/get_build_id.gen.o hack/utils/get_build_id.o hack/utils/handle_stubs.o hack/utils/nproc.o hack/utils/realpath.o hack/utils/sysinfo.o hack/utils/priorities.o hack/utils/win32_support.o hack/hhi/hhi_win32res_stubs.o src/embedded/flowlib_elf.o -cclib -l -cclib pthread -cclib -l -cclib elf   " src/flow.native
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/flow.ml > src/flow.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/commands/astCommand.ml > src/commands/astCommand.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/commands/commandSpec.mli > src/commands/commandSpec.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/collections/sMap.ml > hack/utils/collections/sMap.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/collections/myMap.mli > hack/utils/collections/myMap.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/collections/stringKey.ml > hack/utils/collections/stringKey.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/utils/collections -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/collections/myMap.cmi hack/utils/collections/myMap.mli
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/utils/collections -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/collections/stringKey.cmo hack/utils/collections/stringKey.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/utils/collections -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/collections/sMap.cmo hack/utils/collections/sMap.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/commands/commandUtils.ml > src/commands/commandUtils.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/commands/commandConnect.ml > src/commands/commandConnect.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/commands/commandConnectSimple.mli > src/commands/commandConnectSimple.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/path.mli > hack/utils/path.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/third-party/core/result.mli > hack/third-party/core/result.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/third-party/core/monad.ml > hack/third-party/core/monad.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -32 -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/third-party/core -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/avl -o hack/third-party/core/monad.cmo hack/third-party/core/monad.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/timeout.mli > hack/utils/timeout.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -27 -w -3-4-6-29-35-44-48-50 -w -3-27 -w -4-6-29-35-44-48-50 -I hack/utils -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/path.cmi hack/utils/path.mli
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -32 -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/third-party/core -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/avl -o hack/third-party/core/result.cmi hack/third-party/core/result.mli
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -27 -w -3-4-6-29-35-44-48-50 -w -3-27 -w -4-6-29-35-44-48-50 -I hack/utils -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/timeout.cmi hack/utils/timeout.mli
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/stubs/flowEventLogger.ml > src/stubs/flowEventLogger.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/common/flowExitStatus.mli > src/common/flowExitStatus.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/sys_utils.ml > hack/utils/sys_utils.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/core.ml > hack/utils/core.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/third-party/core/core_list.ml > hack/third-party/core/core_list.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/third-party/core/caml.ml > hack/third-party/core/caml.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/third-party/core/container.ml > hack/third-party/core/container.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/third-party/core/commutative_group.ml > hack/third-party/core/commutative_group.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -32 -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/third-party/core -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/avl -o hack/third-party/core/commutative_group.cmo hack/third-party/core/commutative_group.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/third-party/core/core_printf.ml > hack/third-party/core/core_printf.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/third-party/core/poly.ml > hack/third-party/core/poly.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/third-party/core/polymorphic_compare.mli > hack/third-party/core/polymorphic_compare.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -32 -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/third-party/core -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/avl -o hack/third-party/core/polymorphic_compare.cmi hack/third-party/core/polymorphic_compare.mli
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -32 -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/third-party/core -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/avl -o hack/third-party/core/caml.cmo hack/third-party/core/caml.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -32 -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/third-party/core -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/avl -o hack/third-party/core/container.cmo hack/third-party/core/container.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -32 -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/third-party/core -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/avl -o hack/third-party/core/core_printf.cmo hack/third-party/core/core_printf.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -32 -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/third-party/core -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/avl -o hack/third-party/core/poly.cmo hack/third-party/core/poly.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -32 -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/third-party/core -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/avl -o hack/third-party/core/core_list.cmo hack/third-party/core/core_list.ml
[91m[ERROR] The compilation of flowtype failed at "make".
[0m- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/utils.ml > hack/utils/utils.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -27 -w -3-4-6-29-35-44-48-50 -w -3-27 -w -4-6-29-35-44-48-50 -I hack/utils -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/core.cmo hack/utils/core.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/collections/iMap.ml > hack/utils/collections/iMap.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/collections/intKey.ml > hack/utils/collections/intKey.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/utils/collections -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/collections/intKey.cmo hack/utils/collections/intKey.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/collections/sSet.ml > hack/utils/collections/sSet.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/utils/collections -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/collections/iMap.cmo hack/utils/collections/iMap.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -3-4-6-29-35-44-48-50 -w -4-6-29-35-44-48-50 -I hack/utils/collections -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/collections/sSet.cmo hack/utils/collections/sSet.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -27 -w -3-4-6-29-35-44-48-50 -w -3-27 -w -4-6-29-35-44-48-50 -I hack/utils -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/utils.cmo hack/utils/utils.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/tail.mli > hack/utils/tail.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules hack/utils/tty.mli > hack/utils/tty.mli.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/common/utils_js.ml > src/common/utils_js.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamldep.opt -modules src/parser/loc.ml > src/parser/loc.ml.depends
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -4-6-29-35-44-48-50 -I src/parser -I src/typing -I src/stubs -I src/server -I src/parsing -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o src/parser/loc.cmo src/parser/loc.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -4-6-29-35-44-48-50 -I src/commands -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o src/commands/commandConnectSimple.cmi src/commands/commandConnectSimple.mli
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -4-6-29-35-44-48-50 -I src/stubs -I src/typing -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o src/stubs/flowEventLogger.cmo src/stubs/flowEventLogger.ml
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -4-6-29-35-44-48-50 -I src/common -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o src/common/flowExitStatus.cmi src/common/flowExitStatus.mli
- /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -27 -w -3-4-6-29-35-44-48-50 -w -3-27 -w -4-6-29-35-44-48-50 -I hack/utils -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/sys_utils.cmo hack/utils/sys_utils.ml
- + /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -27 -w -3-4-6-29-35-44-48-50 -w -3-27 -w -4-6-29-35-44-48-50 -I hack/utils -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/sys_utils.cmo hack/utils/sys_utils.ml
- File "hack/utils/sys_utils.ml", line 321, characters 39-51:
- Error: This expression has type ?to_dir:bool -> string -> string -> unit
-        but an expression was expected of type string -> string -> unit
- Command exited with code 2.
- make: *** [build-flow] Error 10


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions failed
  - install flowtype 0.23.0
The following changes have been performed
  - install base-bytes      base 
  - install conf-m4         1    
  - install conf-ncurses    1    
  - install conf-pkg-config 1.0  
  - install ocamlfind       1.6.2
[91m
#=== ERROR while installing flowtype.0.23.0 ===================================#
# opam-version         1.2.2 (2dee5d69c0bd29731e6cb2ee537f0adf72404ba4)
# os                   linux
# command              make
# path                 /home/opam/.opam/4.03.0+trunk+flambda/build/flowtype.0.23.0
# compiler             4.03.0+trunk+flambda
# exit-code            2
# env-file             /home/opam/.opam/4.03.0+trunk+flambda/build/flowtype.0.23.0/flowtype-236-548b09.env
# stdout-file          /home/opam/.opam/4.03.0+trunk+flambda/build/flowtype.0.23.0/flowtype-236-548b09.out
# stderr-file          /home/opam/.opam/4.03.0+trunk+flambda/build/flowtype.0.23.0/flowtype-236-548b09.err
### stdout ###
# [...]
# /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -4-6-29-35-44-48-50 -I src/parser -I src/typing -I src/stubs -I src/server -I src/parsing -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o src/parser/loc.cmo src/parser/loc.ml
# /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -4-6-29-35-44-48-50 -I src/commands -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o src/commands/commandConnectSimple.cmi src/commands/commandConnectSimple.mli
# /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -4-6-29-35-44-48-50 -I src/stubs -I src/typing -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o src/stubs/flowEventLogger.cmo src/stubs/flowEventLogger.ml
# /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -4-6-29-35-44-48-50 -I src/common -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/utils -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o src/common/flowExitStatus.cmi src/common/flowExitStatus.mli
# /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -27 -w -3-4-6-29-35-44-48-50 -w -3-27 -w -4-6-29-35-44-48-50 -I hack/utils -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/sys_utils.cmo hack/utils/sys_utils.ml
# + /home/opam/.opam/4.03.0+trunk+flambda/bin/ocamlc.opt -c -w A -warn-error A -w -27 -w -3-4-6-29-35-44-48-50 -w -3-27 -w -4-6-29-35-44-48-50 -I hack/utils -I src/typing -I src/stubs -I src/server -I src/parsing -I src/parser -I src/embedded -I src/dts -I src/common -I src/commands -I src/services/port -I src/services/inference -I src/services/autocomplete -I hack/stubs -I hack/socket -I hack/search -I hack/procs -I hack/hhi -I hack/heap -I hack/globals -I hack/fsnotify_linux -I hack/find -I hack/dfind -I hack/utils/hh_json -I hack/utils/collections -I hack/third-party/inotify -I hack/third-party/core -I hack/third-party/avl -o hack/utils/sys_utils.cmo hack/utils/sys_utils.ml
# File "hack/utils/sys_utils.ml", line 321, characters 39-51:
# Error: This expression has type ?to_dir:bool -> string -> string -> unit
#        but an expression was expected of type string -> string -> unit
# Command exited with code 2.
### stderr ###
# fatal: Not a git repository (or any of the parent directories): .git
# /bin/sh: line 1: hg: command not found
# fatal: Not a git repository (or any of the parent directories): .git
# /bin/sh: line 1: hg: command not found
# make: *** [build-flow] Error 10

[0m
=-=- flowtype.0.23.0 troobleshooting =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing.
   `opam depext flowtype.0.23.0' may help you find the correct installation for
   your system.
[91m
The former state can be restored with:
    opam switch import
"~/.opam/4.03.0+trunk+flambda/backup/state-20160314083650.export"
'opam install -y -j 2 -v flowtype' failed.
[0mThe command '/bin/sh -c sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/gabelevi/opam-repository.git flowtype && opam update -u" &&   sudo -u opam sh -c "opam depext -u flowtype" &&   sudo -u opam sh -c "opam install -y -j 2 -v flowtype"' returned a non-zero code: 4
