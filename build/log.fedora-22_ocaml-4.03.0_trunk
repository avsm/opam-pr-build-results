Running this Dockerfile:
FROM ocaml/opam:fedora-22_ocaml-4.03.0_trunk
RUN sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" && \
  sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/seliopou/opam-repository.git opam-publish/aws-rds.0.1.0 && opam update -u" && \
  sudo -u opam sh -c "opam depext -u aws-rds" && \
  sudo -u opam sh -c "opam install -y -j 2 -v aws-rds"Sending build context to Docker daemon 416.8 kB
Step 1 : FROM ocaml/opam:fedora-22_ocaml-4.03.0_trunk
fedora-22_ocaml-4.03.0_trunk: Pulling from ocaml/opam
a3ed95caeb02: Already exists
0967f2c8ac7a: Already exists
ec8dd1e37ce9: Pulling fs layer
38b6d1c430ec: Pulling fs layer
4ce0617608f5: Pulling fs layer
ec8dd1e37ce9: Waiting
38b6d1c430ec: Waiting
4ce0617608f5: Waiting
38b6d1c430ec: Verifying Checksum
38b6d1c430ec: Download complete
ec8dd1e37ce9: Verifying Checksum
ec8dd1e37ce9: Download complete
4ce0617608f5: Verifying Checksum
4ce0617608f5: Download complete
ec8dd1e37ce9: Pull complete
ec8dd1e37ce9: Pull complete
38b6d1c430ec: Pull complete
38b6d1c430ec: Pull complete
4ce0617608f5: Pull complete
4ce0617608f5: Pull complete
Digest: sha256:f3a79fc3fcf013668e43e99ab6cca18c6c2a060a88f758a1f4f54edfa42e5262
Status: Downloaded newer image for ocaml/opam:fedora-22_ocaml-4.03.0_trunk
 ---> f5276dbfb311
Step 2 : RUN sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/seliopou/opam-repository.git opam-publish/aws-rds.0.1.0 && opam update -u" &&   sudo -u opam sh -c "opam depext -u aws-rds" &&   sudo -u opam sh -c "opam install -y -j 2 -v aws-rds"
 ---> Running in faef90cd6763
[91mFrom git://github.com/ocaml/opam-repository
 * branch            master     -> FETCH_HEAD
[0m[91m   1a10bdc..c0cde63  master     -> origin/master
[0mUpdating 1a10bdc..c0cde63
Fast-forward
 packages/argon2/argon2.0.2/descr |  3 +++
 packages/argon2/argon2.0.2/opam  | 23 +++++++++++++++++++++++
 packages/argon2/argon2.0.2/url   |  2 ++
 3 files changed, 28 insertions(+)
 create mode 100644 packages/argon2/argon2.0.2/descr
 create mode 100644 packages/argon2/argon2.0.2/opam
 create mode 100644 packages/argon2/argon2.0.2/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[depext: git] Command started
[depext: git] Command started
[depext: git] Command started
[depext: git] Command started
[depext] https://github.com/ocaml/opam-depext.git already up-to-date

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
[91mFrom https://github.com/seliopou/opam-repository
 * branch            opam-publish/aws-rds.0.1.0 -> FETCH_HEAD
[0mMerge made by the 'recursive' strategy.
 packages/aws-rds/aws-rds.0.1.0/descr |  1 +
 packages/aws-rds/aws-rds.0.1.0/opam  | 20 ++++++++++++++++++++
 packages/aws-rds/aws-rds.0.1.0/url   |  2 ++
 3 files changed, 23 insertions(+)
 create mode 100644 packages/aws-rds/aws-rds.0.1.0/descr
 create mode 100644 packages/aws-rds/aws-rds.0.1.0/opam
 create mode 100644 packages/aws-rds/aws-rds.0.1.0/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[depext: git] Command started
[depext: git] Command started
[depext: git] Command started
[depext: git] Command started
[depext] https://github.com/ocaml/opam-depext.git already up-to-date

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
# Detecting depexts using flags: x86_64 linux fedora
# The following system packages are needed:
#  - gmp
#  - gmp-devel
#  - m4
#  - ncurses-devel
#  - pkgconfig
Name        : gmp
Epoch       : 1
Version     : 6.0.0
Release     : 9.fc22
Architecture: x86_64
Install Date: Thu Feb 18 13:57:38 2016
Group       : System Environment/Libraries
Size        : 651685
License     : LGPLv3+ or GPLv2+
Signature   : RSA/SHA256, Thu Apr  2 16:34:21 2015, Key ID 11adc0948e1431d5
Source RPM  : gmp-6.0.0-9.fc22.src.rpm
Build Date  : Thu Apr  2 15:40:43 2015
Build Host  : buildvm-14.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://gmplib.org/
Summary     : A GNU arbitrary precision library
Description :
The gmp package contains GNU MP, a library for arbitrary precision
arithmetic, signed integers operations, rational numbers and floating
point numbers. GNU MP is designed for speed, for both small and very
large operands. GNU MP is fast because it uses fullwords as the basic
arithmetic type, it uses fast algorithms, it carefully optimizes
assembly code for many CPUs' most common inner loops, and it generally
emphasizes speed over simplicity/elegance in its operations.

Install the gmp package if you need a fast arbitrary precision
library.
package gmp-devel is not installed
package m4 is not installed
package ncurses-devel is not installed
Name        : pkgconfig
Epoch       : 1
Version     : 0.28
Release     : 8.fc22
Architecture: x86_64
Install Date: Thu Feb 18 13:57:49 2016
Group       : Development/Tools
Size        : 107920
License     : GPLv2+
Signature   : RSA/SHA256, Sun Apr 19 17:11:52 2015, Key ID 11adc0948e1431d5
Source RPM  : pkgconfig-0.28-8.fc22.src.rpm
Build Date  : Fri Apr 17 19:27:15 2015
Build Host  : buildvm-06.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://pkgconfig.freedesktop.org
Summary     : A tool for determining compilation options
Description :
The pkgconfig tool determines compilation options. For each required
library, it reads the configuration file and outputs the necessary
compiler and linker flags.
# The following new OS packages need to be installed: gmp-devel m4 ncurses-devel
The following command needs to be run through "sudo":
    yum -y update
[91mYum command has been deprecated, redirecting to '/usr/bin/dnf -y update'.
See 'man dnf' and 'man yum2dnf' for more information.
To transfer transaction metadata from yum to DNF, run:
'dnf install python-dnf-plugins-extras-migrate && dnf-2 migrate'

[0mLast metadata expiration check performed 0:00:16 ago on Mon Apr 11 17:19:47 2016.
Dependencies resolved.
================================================================================
 Package                 Arch        Version                 Repository    Size
================================================================================
Installing:
 kernel-debug-devel      x86_64      4.4.6-201.fc22          updates       10 M
 python-pip              noarch      6.0.8-1.fc22            fedora       1.7 M
 python-setuptools       noarch      17.1.1-3.fc22           updates      425 k
 sqlite-libs             x86_64      3.11.0-3.fc22           updates      449 k
     replacing  sqlite.x86_64 3.10.2-1.fc22
Upgrading:
 ca-certificates         noarch      2016.2.7-1.0.fc22       updates      424 k
 gnupg2                  x86_64      2.1.11-1.fc22           updates      1.9 M
 kernel-headers          x86_64      4.4.6-201.fc22          updates      1.0 M
 krb5-libs               x86_64      1.13.2-14.fc22          updates      839 k
 libatomic_ops           x86_64      7.4.2-9.fc22            updates       32 k
 libssh2                 x86_64      1.5.0-2.fc22            updates      145 k
 nspr                    x86_64      4.12.0-1.fc22           updates      135 k
 nss                     x86_64      3.23.0-1.0.fc22         updates      871 k
 nss-softokn             x86_64      3.23.0-1.0.fc22         updates      317 k
 nss-softokn-freebl      x86_64      3.23.0-1.0.fc22         updates      214 k
 nss-sysinit             x86_64      3.23.0-1.0.fc22         updates       57 k
 nss-tools               x86_64      3.23.0-1.0.fc22         updates      493 k
 nss-util                x86_64      3.23.0-1.0.fc22         updates       82 k
 openssl-libs            x86_64      1:1.0.1k-14.fc22        updates      943 k
 pcre                    x86_64      8.38-4.fc22             updates      495 k
 python                  x86_64      2.7.10-8.fc22           updates       93 k
 python-libs             x86_64      2.7.10-8.fc22           updates      5.8 M
 sqlite                  x86_64      3.11.0-3.fc22           updates      473 k

Transaction Summary
================================================================================
Install   4 Packages
Upgrade  18 Packages

Total download size: 27 M
Downloading Packages:
[91m/usr/share/man/man8/ca-legacy.8.gz: No such file or directory
cannot reconstruct rpm from disk files
[0m[91m/usr/share/doc/libssh2/AUTHORS: No such file or directory
cannot reconstruct rpm from disk files
[0m[91m/usr/share/doc/krb5-libs/NOTICE: No such file or directory
cannot reconstruct rpm from disk files
[0m[91m/usr/share/doc/python-libs/README: No such file or directory
cannot reconstruct rpm from disk files
[0mca-certificates-2016.2.7-1.0.fc22.noarch: Delta RPM rebuild failed
libssh2-1.5.0-2.fc22.x86_64: Delta RPM rebuild failed
krb5-libs-1.13.2-14.fc22.x86_64: Delta RPM rebuild failed
python-libs-2.7.10-8.fc22.x86_64: Delta RPM rebuild failed
--------------------------------------------------------------------------------
Total                                           1.1 MB/s |  18 MB     00:16     
Delta RPMs reduced 26.7 MB of updates to 18.0 MB (32.1% saved)
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Upgrading   : nspr-4.12.0-1.fc22.x86_64                                  1/40 
warning: Unable to get systemd shutdown inhibition lock
  Upgrading   : nss-util-3.23.0-1.0.fc22.x86_64                            2/40 
  Installing  : sqlite-libs-3.11.0-3.fc22.x86_64                           3/40 
  Upgrading   : nss-softokn-freebl-3.23.0-1.0.fc22.x86_64                  4/40 
  Upgrading   : nss-softokn-3.23.0-1.0.fc22.x86_64                         5/40 
  Upgrading   : nss-sysinit-3.23.0-1.0.fc22.x86_64                         6/40 
  Upgrading   : nss-3.23.0-1.0.fc22.x86_64                                 7/40 
  Upgrading   : ca-certificates-2016.2.7-1.0.fc22.noarch                   8/40 
  Upgrading   : krb5-libs-1.13.2-14.fc22.x86_64                            9/40 
  Upgrading   : openssl-libs-1:1.0.1k-14.fc22.x86_64                      10/40 
  Upgrading   : python-libs-2.7.10-8.fc22.x86_64                          11/40 
  Installing  : python-setuptools-17.1.1-3.fc22.noarch                    12/40 
  Upgrading   : python-2.7.10-8.fc22.x86_64                               13/40 
  Installing  : python-pip-6.0.8-1.fc22.noarch                            14/40 
  Upgrading   : libssh2-1.5.0-2.fc22.x86_64                               15/40 
  Upgrading   : nss-tools-3.23.0-1.0.fc22.x86_64                          16/40 
  Upgrading   : gnupg2-2.1.11-1.fc22.x86_64                               17/40 
  Upgrading   : sqlite-3.11.0-3.fc22.x86_64                               18/40 
  Upgrading   : pcre-8.38-4.fc22.x86_64                                   19/40 
  Upgrading   : libatomic_ops-7.4.2-9.fc22.x86_64                         20/40 
  Upgrading   : kernel-headers-4.4.6-201.fc22.x86_64                      21/40 
  Installing  : kernel-debug-devel-4.4.6-201.fc22.x86_64                  22/40 
  Cleanup     : kernel-headers-4.4.6-200.fc22.x86_64                      23/40 
  Cleanup     : nss-tools-3.21.0-1.1.fc22.x86_64                          24/40 
  Cleanup     : nss-sysinit-3.21.0-1.1.fc22.x86_64                        25/40 
  Cleanup     : nss-3.21.0-1.1.fc22.x86_64                                26/40 
  Cleanup     : nss-softokn-3.21.0-1.1.fc22.x86_64                        27/40 
  Cleanup     : nss-util-3.21.0-1.0.fc22.x86_64                           28/40 
  Cleanup     : python-2.7.9-6.fc22.x86_64                                29/40 
  Cleanup     : python-libs-2.7.9-6.fc22.x86_64                           30/40 
  Cleanup     : libssh2-1.5.0-1.fc22.x86_64                               31/40 
  Cleanup     : openssl-libs-1:1.0.1k-13.fc22.x86_64                      32/40 
  Cleanup     : krb5-libs-1.13.2-13.fc22.x86_64                           33/40 
  Cleanup     : ca-certificates-2015.2.6-1.0.fc22.noarch                  34/40 
  Cleanup     : sqlite-3.10.2-1.fc22.x86_64                               35/40 
  Cleanup     : nspr-4.10.10-2.fc22.x86_64                                36/40 
  Cleanup     : nss-softokn-freebl-3.21.0-1.1.fc22.x86_64                 37/40 
  Cleanup     : pcre-8.38-1.fc22.x86_64                                   38/40 
  Cleanup     : libatomic_ops-7.4.2-4.fc22.x86_64                         39/40 
  Cleanup     : gnupg2-2.1.9-1.fc22.x86_64                                40/40 
  Verifying   : kernel-debug-devel-4.4.6-201.fc22.x86_64                   1/40 
  Verifying   : python-pip-6.0.8-1.fc22.noarch                             2/40 
  Verifying   : sqlite-libs-3.11.0-3.fc22.x86_64                           3/40 
  Verifying   : python-setuptools-17.1.1-3.fc22.noarch                     4/40 
  Verifying   : ca-certificates-2016.2.7-1.0.fc22.noarch                   5/40 
  Verifying   : gnupg2-2.1.11-1.fc22.x86_64                                6/40 
  Verifying   : kernel-headers-4.4.6-201.fc22.x86_64                       7/40 
  Verifying   : krb5-libs-1.13.2-14.fc22.x86_64                            8/40 
  Verifying   : libatomic_ops-7.4.2-9.fc22.x86_64                          9/40 
  Verifying   : libssh2-1.5.0-2.fc22.x86_64                               10/40 
  Verifying   : nspr-4.12.0-1.fc22.x86_64                                 11/40 
  Verifying   : nss-3.23.0-1.0.fc22.x86_64                                12/40 
  Verifying   : nss-softokn-3.23.0-1.0.fc22.x86_64                        13/40 
  Verifying   : nss-util-3.23.0-1.0.fc22.x86_64                           14/40 
  Verifying   : nss-softokn-freebl-3.23.0-1.0.fc22.x86_64                 15/40 
  Verifying   : nss-tools-3.23.0-1.0.fc22.x86_64                          16/40 
  Verifying   : nss-sysinit-3.23.0-1.0.fc22.x86_64                        17/40 
  Verifying   : openssl-libs-1:1.0.1k-14.fc22.x86_64                      18/40 
  Verifying   : pcre-8.38-4.fc22.x86_64                                   19/40 
  Verifying   : python-2.7.10-8.fc22.x86_64                               20/40 
  Verifying   : python-libs-2.7.10-8.fc22.x86_64                          21/40 
  Verifying   : sqlite-3.11.0-3.fc22.x86_64                               22/40 
  Verifying   : nspr-4.10.10-2.fc22.x86_64                                23/40 
  Verifying   : gnupg2-2.1.9-1.fc22.x86_64                                24/40 
  Verifying   : libssh2-1.5.0-1.fc22.x86_64                               25/40 
  Verifying   : ca-certificates-2015.2.6-1.0.fc22.noarch                  26/40 
  Verifying   : kernel-headers-4.4.6-200.fc22.x86_64                      27/40 
  Verifying   : krb5-libs-1.13.2-13.fc22.x86_64                           28/40 
  Verifying   : python-2.7.9-6.fc22.x86_64                                29/40 
  Verifying   : libatomic_ops-7.4.2-4.fc22.x86_64                         30/40 
  Verifying   : nss-3.21.0-1.1.fc22.x86_64                                31/40 
  Verifying   : nss-softokn-3.21.0-1.1.fc22.x86_64                        32/40 
  Verifying   : nss-softokn-freebl-3.21.0-1.1.fc22.x86_64                 33/40 
  Verifying   : nss-sysinit-3.21.0-1.1.fc22.x86_64                        34/40 
  Verifying   : nss-tools-3.21.0-1.1.fc22.x86_64                          35/40 
  Verifying   : nss-util-3.21.0-1.0.fc22.x86_64                           36/40 
  Verifying   : python-libs-2.7.9-6.fc22.x86_64                           37/40 
  Verifying   : openssl-libs-1:1.0.1k-13.fc22.x86_64                      38/40 
  Verifying   : pcre-8.38-1.fc22.x86_64                                   39/40 
  Verifying   : sqlite-3.10.2-1.fc22.x86_64                               40/40 

Installed:
  kernel-debug-devel.x86_64 4.4.6-201.fc22   python-pip.noarch 6.0.8-1.fc22    
  python-setuptools.noarch 17.1.1-3.fc22     sqlite-libs.x86_64 3.11.0-3.fc22  

Upgraded:
  ca-certificates.noarch 2016.2.7-1.0.fc22                                      
  gnupg2.x86_64 2.1.11-1.fc22                                                   
  kernel-headers.x86_64 4.4.6-201.fc22                                          
  krb5-libs.x86_64 1.13.2-14.fc22                                               
  libatomic_ops.x86_64 7.4.2-9.fc22                                             
  libssh2.x86_64 1.5.0-2.fc22                                                   
  nspr.x86_64 4.12.0-1.fc22                                                     
  nss.x86_64 3.23.0-1.0.fc22                                                    
  nss-softokn.x86_64 3.23.0-1.0.fc22                                            
  nss-softokn-freebl.x86_64 3.23.0-1.0.fc22                                     
  nss-sysinit.x86_64 3.23.0-1.0.fc22                                            
  nss-tools.x86_64 3.23.0-1.0.fc22                                              
  nss-util.x86_64 3.23.0-1.0.fc22                                               
  openssl-libs.x86_64 1:1.0.1k-14.fc22                                          
  pcre.x86_64 8.38-4.fc22                                                       
  python.x86_64 2.7.10-8.fc22                                                   
  python-libs.x86_64 2.7.10-8.fc22                                              
  sqlite.x86_64 3.11.0-3.fc22                                                   

Complete!
# OS package update successful
The following command needs to be run through "sudo":
    yum install -y gmp-devel m4 ncurses-devel
[91mYum command has been deprecated, redirecting to '/usr/bin/dnf install -y gmp-devel m4 ncurses-devel'.
See 'man dnf' and 'man yum2dnf' for more information.
To transfer transaction metadata from yum to DNF, run:
'dnf install python-dnf-plugins-extras-migrate && dnf-2 migrate'

[0mLast metadata expiration check performed 0:01:15 ago on Mon Apr 11 17:19:47 2016.
Dependencies resolved.
================================================================================
 Package             Arch         Version                    Repository    Size
================================================================================
Installing:
 gmp-devel           x86_64       1:6.0.0-9.fc22             fedora       185 k
 m4                  x86_64       1.4.17-6.fc22              fedora       264 k
 ncurses-devel       x86_64       5.9-18.20150214.fc22       fedora       731 k

Transaction Summary
================================================================================
Install  3 Packages

Total download size: 1.2 M
Installed size: 3.1 M
Downloading Packages:
--------------------------------------------------------------------------------
Total                                           902 kB/s | 1.2 MB     00:01     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Installing  : ncurses-devel-5.9-18.20150214.fc22.x86_64                   1/3 
warning: Unable to get systemd shutdown inhibition lock
  Installing  : gmp-devel-1:6.0.0-9.fc22.x86_64                             2/3 
  Installing  : m4-1.4.17-6.fc22.x86_64                                     3/3 
  Verifying   : m4-1.4.17-6.fc22.x86_64                                     1/3 
  Verifying   : gmp-devel-1:6.0.0-9.fc22.x86_64                             2/3 
  Verifying   : ncurses-devel-5.9-18.20150214.fc22.x86_64                   3/3 

Installed:
  gmp-devel.x86_64 1:6.0.0-9.fc22                 m4.x86_64 1.4.17-6.fc22      
  ncurses-devel.x86_64 5.9-18.20150214.fc22      

Complete!
The following command needs to be run through "sudo":
    rpm -q gmp-devel m4 ncurses-devel
gmp-devel-6.0.0-9.fc22.x86_64
m4-1.4.17-6.fc22.x86_64
ncurses-devel-5.9-18.20150214.fc22.x86_64
# OS packages installation successful
The following dependencies couldn't be met:
  - aws-rds -> aws >= 0.1.0 -> nocrypto -> ctypes < 0.4.0
  - aws-rds -> aws >= 0.1.0 -> nocrypto -> oasis
  - aws-rds -> aws >= 0.1.0 -> nocrypto -> sexplib < 113.01.00
Your request can't be satisfied:
  - ctypes<0.4.0 is not available because your system doesn't comply with ocaml-version >= "4.00.0" & ocaml-version < "4.03.0".
  - oasis is not available because your system doesn't comply with ocaml-version >= "3.11.2" & ocaml-version < "4.03.0".
  - sexplib<113.01.00 is not available because your system doesn't comply with ocaml-version >= "4.02.1" & ocaml-version < "4.03".

No solution found, exiting
[91m'opam install -y -j 2 -v aws-rds' failed.
[0mThe command '/bin/sh -c sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/seliopou/opam-repository.git opam-publish/aws-rds.0.1.0 && opam update -u" &&   sudo -u opam sh -c "opam depext -u aws-rds" &&   sudo -u opam sh -c "opam install -y -j 2 -v aws-rds"' returned a non-zero code: 3
