Sending build context to Docker daemon  29.7 kB
Step 1 : FROM ocaml/opam:debian-unstable_ocaml-4.02.3
 ---> 765e4cbe8071
Step 2 : RUN sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/jpdeplaix/opam-repository.git master && opam update -u" &&   sudo -u opam sh -c "opam depext -u llvm" &&   sudo -u opam sh -c "opam install -y -j 2 -v llvm"
 ---> Running in 43fce0bd0a1f
[91mFrom git://github.com/ocaml/opam-repository
 * branch            master     -> FETCH_HEAD
[0m[91m   c86ad1e..44da465  master     -> origin/master
[0mUpdating c86ad1e..44da465
Fast-forward
 compilers/4.04.0/4.04.0+pr490/4.04.0+pr490.descr   |  1 -
 .../4.04.0+pr512.comp}                             |  2 +-
 compilers/4.04.0/4.04.0+pr512/4.04.0+pr512.descr   |  1 +
 packages/alt-ergo/alt-ergo.0.95.2/opam             | 18 +++++++----
 packages/alt-ergo/alt-ergo.0.99.1/opam             | 22 ++++++++++----
 packages/alt-ergo/alt-ergo.1.01/opam               | 29 ++++++++----------
 packages/amqp-client/amqp-client.0.9.0/opam        |  2 +-
 packages/camlpdf/camlpdf.2.1.1/opam                | 10 ++++---
 packages/dockerfile/dockerfile.1.3.0/descr         | 18 +++++++++++
 packages/dockerfile/dockerfile.1.3.0/opam          | 22 ++++++++++++++
 packages/dockerfile/dockerfile.1.3.0/url           |  2 ++
 packages/gapi-ocaml/gapi-ocaml.0.2.9/descr         | 10 +++++++
 packages/gapi-ocaml/gapi-ocaml.0.2.9/findlib       |  1 +
 packages/gapi-ocaml/gapi-ocaml.0.2.9/opam          | 35 ++++++++++++++++++++++
 packages/gapi-ocaml/gapi-ocaml.0.2.9/url           |  2 ++
 packages/markup/markup.0.7.1/descr                 | 20 +++++++++++++
 packages/markup/markup.0.7.1/opam                  | 27 +++++++++++++++++
 packages/markup/markup.0.7.1/url                   |  2 ++
 packages/mirage-profile/mirage-profile.0.1/opam    |  5 ++--
 packages/mirage-profile/mirage-profile.0.3/opam    |  5 ++--
 packages/mirage-profile/mirage-profile.0.4/opam    |  5 ++--
 packages/mirage-profile/mirage-profile.0.5/opam    |  5 ++--
 packages/mirage-profile/mirage-profile.0.6.1/opam  |  3 +-
 packages/mirage-profile/mirage-profile.0.6/opam    |  5 ++--
 packages/mirage-unix/mirage-unix.2.2.3/opam        |  3 +-
 packages/mirage-unix/mirage-unix.2.3.1/opam        |  3 +-
 .../ppx_jsobject_conv.0.0.1/descr                  |  6 ++++
 .../ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/opam | 25 ++++++++++++++++
 .../ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/url  |  3 ++
 29 files changed, 243 insertions(+), 49 deletions(-)
 delete mode 100644 compilers/4.04.0/4.04.0+pr490/4.04.0+pr490.descr
 rename compilers/4.04.0/{4.04.0+pr490/4.04.0+pr490.comp => 4.04.0+pr512/4.04.0+pr512.comp} (79%)
 create mode 100644 compilers/4.04.0/4.04.0+pr512/4.04.0+pr512.descr
 create mode 100644 packages/dockerfile/dockerfile.1.3.0/descr
 create mode 100644 packages/dockerfile/dockerfile.1.3.0/opam
 create mode 100644 packages/dockerfile/dockerfile.1.3.0/url
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.9/descr
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.9/findlib
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.9/opam
 create mode 100644 packages/gapi-ocaml/gapi-ocaml.0.2.9/url
 create mode 100644 packages/markup/markup.0.7.1/descr
 create mode 100644 packages/markup/markup.0.7.1/opam
 create mode 100644 packages/markup/markup.0.7.1/url
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/descr
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/opam
 create mode 100644 packages/ppx_jsobject_conv/ppx_jsobject_conv.0.0.1/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
[91mFrom https://github.com/jpdeplaix/opam-repository
 * branch            master     -> FETCH_HEAD
[0mMerge made by the 'recursive' strategy.
 packages/llvm/llvm.3.8/descr            |  3 ++
 packages/llvm/llvm.3.8/files/install.sh | 50 +++++++++++++++++++++++++++++++++
 packages/llvm/llvm.3.8/opam             | 23 +++++++++++++++
 packages/llvm/llvm.3.8/url              |  2 ++
 4 files changed, 78 insertions(+)
 create mode 100644 packages/llvm/llvm.3.8/descr
 create mode 100755 packages/llvm/llvm.3.8/files/install.sh
 create mode 100644 packages/llvm/llvm.3.8/opam
 create mode 100644 packages/llvm/llvm.3.8/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
# Detecting depexts using flags: x86_64 linux debian
# The following system packages are needed:
#  - llvm-3.8-dev
#  - m4
#  - ncurses-dev
#  - pkg-config
# The following scripts need to be run:
#  - https://gist.githubusercontent.com/jpdeplaix/17b5de3e88ee0bdbd603/raw
# The following new OS packages need to be installed: llvm-3.8-dev ncurses-dev
Not running as root, the following command will be run through "sudo":
    apt-get update
Get:1 http://mirror.positive-internet.com/debian unstable InRelease [287 kB]
Get:2 http://mirror.positive-internet.com/debian unstable/main amd64 Packages.diff/Index [27.9 kB]
Get:3 http://mirror.positive-internet.com/debian unstable/main amd64 Packages 2016-03-16-1451.35.pdiff [22.8 kB]
Get:4 http://mirror.positive-internet.com/debian unstable/main amd64 Packages 2016-03-16-2050.04.pdiff [27.9 kB]
Get:5 http://mirror.positive-internet.com/debian unstable/main amd64 Packages 2016-03-17-0250.55.pdiff [27.1 kB]
Get:6 http://mirror.positive-internet.com/debian unstable/main amd64 Packages 2016-03-17-0856.11.pdiff [6320 B]
Get:7 http://mirror.positive-internet.com/debian unstable/main amd64 Packages 2016-03-17-1456.02.pdiff [29.0 kB]
Get:7 http://mirror.positive-internet.com/debian unstable/main amd64 Packages 2016-03-17-1456.02.pdiff [29.0 kB]
Fetched 428 kB in 1s (271 kB/s)
Reading package lists...
# OS package update successful
Not running as root, the following command will be run through "sudo":
    apt-get install -qq -yy llvm-3.8-dev ncurses-dev
[91mdebconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
[0m[91mdebconf: unable to initialize frontend: Readline
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Teletype
[0m[91mdpkg-preconfigure: unable to re-open stdin: 
[0mSelecting previously unselected package libpipeline1:amd64.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 24026 files and directories currently installed.)
Preparing to unpack .../libpipeline1_1.4.1-2_amd64.deb ...
Unpacking libpipeline1:amd64 (1.4.1-2) ...
Selecting previously unselected package binfmt-support.
Preparing to unpack .../binfmt-support_2.1.6-1_amd64.deb ...
Unpacking binfmt-support (2.1.6-1) ...
Selecting previously unselected package libffi-dev:amd64.
Preparing to unpack .../libffi-dev_3.2.1-4_amd64.deb ...
Unpacking libffi-dev:amd64 (3.2.1-4) ...
Selecting previously unselected package libllvm3.8:amd64.
Preparing to unpack .../libllvm3.8_1%3a3.8-2_amd64.deb ...
Unpacking libllvm3.8:amd64 (1:3.8-2) ...
Selecting previously unselected package llvm-3.8-runtime.
Preparing to unpack .../llvm-3.8-runtime_1%3a3.8-2_amd64.deb ...
Unpacking llvm-3.8-runtime (1:3.8-2) ...
Selecting previously unselected package llvm-3.8.
Preparing to unpack .../llvm-3.8_1%3a3.8-2_amd64.deb ...
Unpacking llvm-3.8 (1:3.8-2) ...
Selecting previously unselected package libjsoncpp1:amd64.
Preparing to unpack .../libjsoncpp1_1.6.5-4_amd64.deb ...
Unpacking libjsoncpp1:amd64 (1.6.5-4) ...
Selecting previously unselected package llvm-3.8-dev.
Preparing to unpack .../llvm-3.8-dev_1%3a3.8-2_amd64.deb ...
Unpacking llvm-3.8-dev (1:3.8-2) ...
Processing triggers for libc-bin (2.22-3) ...
Processing triggers for systemd (229-2) ...
Setting up libpipeline1:amd64 (1.4.1-2) ...
Setting up binfmt-support (2.1.6-1) ...
mount: binfmt_misc is write-protected, mounting read-only
mount: cannot mount binfmt_misc read-only
update-binfmts: warning: Couldn't mount the binfmt_misc filesystem on /proc/sys/fs/binfmt_misc.
mount: binfmt_misc is write-protected, mounting read-only
mount: cannot mount binfmt_misc read-only
update-binfmts: warning: Couldn't mount the binfmt_misc filesystem on /proc/sys/fs/binfmt_misc.
invoke-rc.d: policy-rc.d denied execution of start.
Setting up libffi-dev:amd64 (3.2.1-4) ...
Setting up libllvm3.8:amd64 (1:3.8-2) ...
Setting up llvm-3.8-runtime (1:3.8-2) ...
mount: binfmt_misc is write-protected, mounting read-only
mount: cannot mount binfmt_misc read-only
update-binfmts: warning: Couldn't mount the binfmt_misc filesystem on /proc/sys/fs/binfmt_misc.
Setting up llvm-3.8 (1:3.8-2) ...
Setting up libjsoncpp1:amd64 (1.6.5-4) ...
Setting up llvm-3.8-dev (1:3.8-2) ...
Processing triggers for libc-bin (2.22-3) ...
Processing triggers for systemd (229-2) ...
# OS packages installation successful
[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      [0m[91m0      0 --:--:-- --:--:-- --:--:--     0[0m[91m100   230  100   230    0     0    936      0 --:--:-- --:--:-- --:--:--   938
[0m[91m+ sudo add-apt-repository deb http://llvm.org/apt/precise/ llvm-toolchain-precise-3.8 main
[0m[91m+ wget -O - http://llvm.org/apt/llvm-snapshot.gpg.key
+ sudosh: 4: wget: not found
 apt-key add -
[0m[91mgpg: no valid OpenPGP data found.
[0m[91mopam-depext: internal error, uncaught exception:
             Failure("Command \"curl -L \\\"https://gist.githubusercontent.com/jpdeplaix/17b5de3e88ee0bdbd603/raw\\\" | sh -ex -\" failed")
             
[0mThe command '/bin/sh -c sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/jpdeplaix/opam-repository.git master && opam update -u" &&   sudo -u opam sh -c "opam depext -u llvm" &&   sudo -u opam sh -c "opam install -y -j 2 -v llvm"' returned a non-zero code: 1
