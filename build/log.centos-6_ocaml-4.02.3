Running this Dockerfile:
FROM ocaml/opam:centos-6_ocaml-4.02.3
RUN sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" && \
  sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/timbertson/opam-repository.git tk && opam update -u" && \
  sudo -u opam sh -c "opam depext -u labltk" && \
  sudo -u opam sh -c "opam install -y -j 2 -v labltk"Sending build context to Docker daemon 37.38 kB
Step 1 : FROM ocaml/opam:centos-6_ocaml-4.02.3
centos-6_ocaml-4.02.3: Pulling from ocaml/opam
a3ed95caeb02: Already exists
204c9415d16d: Already exists
a3ed95caeb02: Already exists
a3ed95caeb02: Already exists
a223479fbf94: Already exists
7c99f5d3453e: Already exists
96e202795cf5: Already exists
Digest: sha256:1224de751c0cf47ff1c1552fbfc3a816da0b93f7c59da32ced07d231689840c8
Status: Image is up to date for ocaml/opam:centos-6_ocaml-4.02.3
 ---> 24b9f11c755f
Step 2 : RUN sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/timbertson/opam-repository.git tk && opam update -u" &&   sudo -u opam sh -c "opam depext -u labltk" &&   sudo -u opam sh -c "opam install -y -j 2 -v labltk"
 ---> Running in bb0329e5507d
[91mFrom git://github.com/ocaml/opam-repository
[0m[91m * branch            master     -> FETCH_HEAD
[0mUpdating 6f6eed5..66b0666
Fast-forward
 packages/0install/0install.2.6.2/opam              |    1 +
 packages/0install/0install.2.8/opam                |    3 +-
 packages/0install/0install.2.9.1/opam              |    1 +
 packages/cmark/cmark.0.2.0/descr                   |    1 +
 packages/cmark/cmark.0.2.0/opam                    |   19 +++++++
 packages/cmark/cmark.0.2.0/url                     |    2 +
 packages/conf-wxwidgets/conf-wxwidgets.3.0/descr   |    2 +
 packages/conf-wxwidgets/conf-wxwidgets.3.0/opam    |   11 ++++
 packages/llvm/llvm.3.8/descr                       |    3 +
 packages/llvm/llvm.3.8/files/install.sh            |   50 ++++++++++++++++++++
 packages/llvm/llvm.3.8/opam                        |   23 +++++++++
 packages/llvm/llvm.3.8/url                         |    2 +
 packages/mirage-unix/mirage-unix.2.4.1/descr       |    1 +
 packages/mirage-unix/mirage-unix.2.4.1/opam        |   23 +++++++++
 packages/mirage-unix/mirage-unix.2.4.1/url         |    2 +
 .../mirage-xen-minios/mirage-xen-minios.0.7.0/opam |    5 ++-
 packages/mirage-xen/mirage-xen.2.4.1/descr         |    3 +
 packages/mirage-xen/mirage-xen.2.4.1/opam          |   30 ++++++++++++
 packages/mirage-xen/mirage-xen.2.4.1/url           |    2 +
 packages/pcap-format/pcap-format.0.3.1/opam        |   10 ++++
 packages/pcap-format/pcap-format.0.3.2/opam        |   10 ++++
 packages/pcap-format/pcap-format.0.3.3/opam        |   14 +++++-
 packages/ppx_expect/ppx_expect.113.33.01/descr     |    2 +
 packages/ppx_expect/ppx_expect.113.33.01/opam      |   30 ++++++++++++
 packages/ppx_expect/ppx_expect.113.33.01/url       |    2 +
 packages/stog-rdf/stog-rdf.0.10.0/opam             |   12 ++++-
 packages/stog-rdf/stog-rdf.0.11.0/opam             |   12 ++++-
 packages/stog-rdf/stog-rdf.0.15.0/opam             |    2 +-
 packages/stog-rdf/stog-rdf.0.16.0/opam             |    2 +-
 packages/stog-rdf/stog-rdf.0.6/descr               |    1 -
 packages/stog-rdf/stog-rdf.0.6/opam                |   12 -----
 packages/stog-rdf/stog-rdf.0.6/url                 |    2 -
 packages/stog-rdf/stog-rdf.0.8.0/descr             |    1 -
 packages/stog-rdf/stog-rdf.0.8.0/opam              |   12 -----
 packages/stog-rdf/stog-rdf.0.8.0/url               |    2 -
 packages/stog-rdf/stog-rdf.0.9.0/descr             |    1 -
 packages/stog-rdf/stog-rdf.0.9.0/findlib           |    1 -
 packages/stog-rdf/stog-rdf.0.9.0/opam              |   16 ------
 packages/stog-rdf/stog-rdf.0.9.0/url               |    2 -
 .../toplevel_expect_test.113.33.01/descr           |    5 ++
 .../toplevel_expect_test.113.33.01/opam            |   31 ++++++++++++
 .../toplevel_expect_test.113.33.01/url             |    2 +
 packages/wxOCaml/wxOCaml.1.0.1/opam                |    5 +-
 43 files changed, 308 insertions(+), 65 deletions(-)
 create mode 100644 packages/cmark/cmark.0.2.0/descr
 create mode 100644 packages/cmark/cmark.0.2.0/opam
 create mode 100644 packages/cmark/cmark.0.2.0/url
 create mode 100644 packages/conf-wxwidgets/conf-wxwidgets.3.0/descr
 create mode 100644 packages/conf-wxwidgets/conf-wxwidgets.3.0/opam
 create mode 100644 packages/llvm/llvm.3.8/descr
 create mode 100755 packages/llvm/llvm.3.8/files/install.sh
 create mode 100644 packages/llvm/llvm.3.8/opam
 create mode 100644 packages/llvm/llvm.3.8/url
 create mode 100644 packages/mirage-unix/mirage-unix.2.4.1/descr
 create mode 100644 packages/mirage-unix/mirage-unix.2.4.1/opam
 create mode 100644 packages/mirage-unix/mirage-unix.2.4.1/url
 create mode 100644 packages/mirage-xen/mirage-xen.2.4.1/descr
 create mode 100644 packages/mirage-xen/mirage-xen.2.4.1/opam
 create mode 100644 packages/mirage-xen/mirage-xen.2.4.1/url
 create mode 100644 packages/ppx_expect/ppx_expect.113.33.01/descr
 create mode 100644 packages/ppx_expect/ppx_expect.113.33.01/opam
 create mode 100644 packages/ppx_expect/ppx_expect.113.33.01/url
 delete mode 100644 packages/stog-rdf/stog-rdf.0.6/descr
 delete mode 100644 packages/stog-rdf/stog-rdf.0.6/opam
 delete mode 100644 packages/stog-rdf/stog-rdf.0.6/url
 delete mode 100644 packages/stog-rdf/stog-rdf.0.8.0/descr
 delete mode 100644 packages/stog-rdf/stog-rdf.0.8.0/opam
 delete mode 100644 packages/stog-rdf/stog-rdf.0.8.0/url
 delete mode 100644 packages/stog-rdf/stog-rdf.0.9.0/descr
 delete mode 100644 packages/stog-rdf/stog-rdf.0.9.0/findlib
 delete mode 100644 packages/stog-rdf/stog-rdf.0.9.0/opam
 delete mode 100644 packages/stog-rdf/stog-rdf.0.9.0/url
 create mode 100644 packages/toplevel_expect_test/toplevel_expect_test.113.33.01/descr
 create mode 100644 packages/toplevel_expect_test/toplevel_expect_test.113.33.01/opam
 create mode 100644 packages/toplevel_expect_test/toplevel_expect_test.113.33.01/url

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
[91mFrom https://github.com/timbertson/opam-repository
 * branch            tk         -> FETCH_HEAD
[0mMerge made by recursive.
 packages/conf-tcl/conf-tcl.1/descr  |    2 ++
 packages/conf-tcl/conf-tcl.1/opam   |   11 +++++++++++
 packages/conf-tk/conf-tk.1/descr    |    2 ++
 packages/conf-tk/conf-tk.1/opam     |   10 ++++++++++
 packages/conf-zlib/conf-zlib.1/opam |    1 +
 packages/ivy/ivy.1.2.2/opam         |    4 +---
 packages/ivy/ivy.1.3.1/opam         |    9 ++++++---
 packages/labltk/labltk.8.06.0/opam  |    6 +-----
 8 files changed, 34 insertions(+), 11 deletions(-)
 create mode 100644 packages/conf-tcl/conf-tcl.1/descr
 create mode 100644 packages/conf-tcl/conf-tcl.1/opam
 create mode 100644 packages/conf-tk/conf-tk.1/descr
 create mode 100644 packages/conf-tk/conf-tk.1/opam

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

Everything as up-to-date as possible (run with --verbose to show unavailable
upgrades).
# Detecting depexts using flags: x86_64 linux centos
# The following system packages are needed:
#  - m4
#  - ncurses-devel
#  - pkgconfig
Name        : m4                           Relocations: (not relocatable)
Version     : 1.4.13                            Vendor: CentOS
Release     : 5.el6                         Build Date: Thu Nov 11 17:17:34 2010
Install Date: Wed Mar 16 14:18:40 2016         Build Host: c6b3.bsys.dev.centos.org
Group       : Applications/Text             Source RPM: m4-1.4.13-5.el6.src.rpm
Size        : 560949                           License: GPLv3+
Signature   : RSA/8, Sun Jul  3 04:44:33 2011, Key ID 0946fca2c105b9de
Packager    : CentOS BuildSystem <http://bugs.centos.org>
URL         : http://www.gnu.org/software/m4/
Summary     : The GNU macro processor
Description :
A GNU implementation of the traditional UNIX macro processor.  M4 is
useful for writing text files which can be logically parsed, and is used
by many programs as part of their build process.  M4 has built-in
functions for including files, running shell commands, doing arithmetic,
etc.  The autoconf program needs m4 for generating configure scripts, but
not for running configure scripts.

Install m4 if you need a macro processor.
Name        : ncurses-devel                Relocations: (not relocatable)
Version     : 5.7                               Vendor: CentOS
Release     : 4.20090207.el6                Build Date: Mon Mar 16 08:54:02 2015
Install Date: Wed Mar 16 14:19:26 2016         Build Host: c6b9.bsys.dev.centos.org
Group       : Development/Libraries         Source RPM: ncurses-5.7-4.20090207.el6.src.rpm
Size        : 1795830                          License: MIT
Signature   : RSA/SHA1, Mon Mar 16 14:43:08 2015, Key ID 0946fca2c105b9de
Packager    : CentOS BuildSystem <http://bugs.centos.org>
URL         : http://invisible-island.net/ncurses/ncurses.html
Summary     : Development files for the ncurses library
Description :
The header files and libraries for developing applications that use
the ncurses terminal handling library.

Install the ncurses-devel package if you want to develop applications
which will use ncurses.
Name        : pkgconfig                    Relocations: (not relocatable)
Version     : 0.23                              Vendor: CentOS
Release     : 9.1.el6                       Build Date: Thu Aug 19 03:30:32 2010
Install Date: Fri Mar  4 06:26:08 2016         Build Host: c6b1.bsys.dev.centos.org
Group       : Development/Tools             Source RPM: pkgconfig-0.23-9.1.el6.src.rpm
Size        : 140091                           License: GPLv2+
Signature   : RSA/8, Sun Jul  3 04:57:05 2011, Key ID 0946fca2c105b9de
Packager    : CentOS BuildSystem <http://bugs.centos.org>
URL         : http://pkgconfig.freedesktop.org
Summary     : A tool for determining compilation options
Description :
The pkgconfig tool determines compilation options. For each required
library, it reads the configuration file and outputs the necessary
compiler and linker flags.
# All required OS packages found.
The following actions will be performed:
  - install conf-pkg-config 1.0                                 [required by conf-tcl]
  - install conf-m4         1                                   [required by ocamlfind]
  - install conf-tk         1                                   [required by labltk]
  - install conf-tcl        1                                   [required by labltk]
  - install conf-ncurses    1                                   [required by ocamlfind]
  - install ocamlfind       1.6.2                               [required by labltk]
  - install labltk          8.06.0
===== 7 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[labltk: http] Command started
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.6.2] http://download.camlcity.org/download/findlib-1.6.2.tar.gz downloaded
[labltk: http] Command started
[labltk.8.06.0] https://forge.ocamlcore.org/frs/download.php/1455/labltk-8.06.0.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-m4: sh echo | m4] Command started
[conf-pkg-config: pkg-config] Command started
+ pkg-config "--help" (CWD=/home/opam/.opam/4.02.3/build/conf-pkg-config.1.0)
- Usage: pkg-config [OPTION...]
-   --version                                      output version of pkg-config
-   --modversion                                   output version for package
-   --atleast-pkgconfig-version=VERSION            require given version of
-                                                  pkg-config
-   --libs                                         output all linker flags
-   --static                                       output linker flags for
-                                                  static linking
-   --short-errors                                 print short errors
-   --libs-only-l                                  output -l flags
-   --libs-only-other                              output other libs (e.g.
-                                                  -pthread)
-   --libs-only-L                                  output -L flags
-   --cflags                                       output all pre-processor and
-                                                  compiler flags
-   --cflags-only-I                                output -I flags
-   --cflags-only-other                            output cflags not covered by
-                                                  the cflags-only-I option
-   --variable=VARIABLENAME                        get the value of a variable
-   --define-variable=VARIABLENAME=VARIABLEVALUE   set the value of a variable
-   --exists                                       return 0 if the module(s)
-                                                  exist
-   --uninstalled                                  return 0 if the uninstalled
-                                                  version of one or more
-                                                  module(s) or their
-                                                  dependencies will be used
-   --atleast-version=VERSION                      return 0 if the module is at
-                                                  least version VERSION
-   --exact-version=VERSION                        return 0 if the module is at
-                                                  exactly version VERSION
-   --max-version=VERSION                          return 0 if the module is at
-                                                  no newer than version VERSION
-   --list-all                                     list all known packages
-   --debug                                        show verbose debug information
-   --print-errors                                 show verbose information
-                                                  about missing or conflicting
-                                                  packages
-   --silence-errors                               show verbose information
-                                                  about missing or conflicting
-                                                  packages
-   --errors-to-stdout                             print errors from
-                                                  --print-errors to stdout not
-                                                  stderr
-   --print-provides                               print which packages the
-                                                  package provides
-   --print-requires                               print which packages the
-                                                  package requires
- 
- Help options
-   -?, --help                                     Show this help message
-   --usage                                        Display brief usage message
-> installed conf-pkg-config.1.0
[conf-ncurses: pkg-config ncurses] Command started
+ sh "-exc" "echo | m4" (CWD=/home/opam/.opam/4.02.3/build/conf-m4.1)
- 
- + echo
- + m4
-> installed conf-m4.1
[conf-tcl: pkg-config tcl] Command started
+ pkg-config "ncurses" (CWD=/home/opam/.opam/4.02.3/build/conf-ncurses.1)
-> installed conf-ncurses.1
[conf-tk: pkg-config tk] Command started
+ pkg-config "tcl" (CWD=/home/opam/.opam/4.02.3/build/conf-tcl.1)
[91m[ERROR] The compilation of conf-tcl failed at "pkg-config tcl".
[0m[ocamlfind: ./configure] Command started
[91m[ERROR] The compilation of conf-tk failed at "pkg-config tk".
[0m+ pkg-config "tk" (CWD=/home/opam/.opam/4.02.3/build/conf-tk.1)
+ ./configure "-bindir" "/home/opam/.opam/4.02.3/bin" "-sitelib" "/home/opam/.opam/4.02.3/lib" "-mandir" "/home/opam/.opam/4.02.3/man" "-config" "/home/opam/.opam/4.02.3/lib/findlib.conf" (CWD=/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2)
- Welcome to findlib version 1.6.2
- Configuring core...
- Checking for #remove_directory...
- Testing threading model...
- systhread_supported: true
- Testing DLLs...
- Testing whether ppxopt can be supported...
- Configuring libraries...
- native dynlink: found
- labltk: not present
- ocamlbuild: found
- camlp4: using camlp4, style 310
- compiler-libs: found
- dbm: not present (normal since OCaml-4.00)
- bytes: found, installing fake library
- Configuration for dynlink written to site-lib-src/dynlink/META
- Configuration for graphics written to site-lib-src/graphics/META
- Configuration for num written to site-lib-src/num/META
- Configuration for num-top written to site-lib-src/num-top/META
- Configuration for str written to site-lib-src/str/META
- Configuration for threads written to site-lib-src/threads/META
- Configuration for unix written to site-lib-src/unix/META
- Configuration for stdlib written to site-lib-src/stdlib/META
- Configuration for bigarray written to site-lib-src/bigarray/META
- Configuration for ocamldoc written to site-lib-src/ocamldoc/META
- Configuration for camlp4 written to site-lib-src/camlp4/META
- Configuration for ocamlbuild written to site-lib-src/ocamlbuild/META
- Configuration for compiler-libs written to site-lib-src/compiler-libs/META
- Configuration for bytes written to site-lib-src/bytes/META
- Detecting compiler arguments: (extractor built) ok
- 
- About the OCAML core installation:
-     Standard library:      /home/opam/.opam/4.02.3/lib/ocaml
-     Binaries:              /home/opam/.opam/4.02.3/bin
-     Manual pages:          /home/opam/.opam/4.02.3/man
-     Multi-threading type:  posix
- The directory of site-specific packages will be
-     site-lib:              /home/opam/.opam/4.02.3/lib
- The configuration file is written to:
-     findlib config file:   /home/opam/.opam/4.02.3/lib/findlib.conf
- Software will be installed:
-     Libraries:             in <site-lib>/findlib
-     Binaries:              /home/opam/.opam/4.02.3/bin
-     Manual pages:          /home/opam/.opam/4.02.3/man
-     topfind script:        /home/opam/.opam/4.02.3/lib/ocaml
- Topfind ppxopt support:    yes
- Toolbox:                   no
- Link custom runtime:       yes
- Need bytes compatibility:  no
- 
- Configuration has been written to Makefile.config
- 
- You can now do 'make all', and optionally 'make opt', to build ocamlfind.
[ocamlfind: make all] Command started
+ make "all" (CWD=/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2)
- for p in findlib; do ( cd src/$p; make all ) || exit; done
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- ocamllex fl_meta.mll
- 22 states, 392 transitions, table size 1700 bytes
- ocamldep *.ml *.mli >depend
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- USE_CYGPATH="0"; \
- 	export USE_CYGPATH; \
- 	cat findlib_config.mlp | \
- 		../../tools/patch '@CONFIGFILE@' '/home/opam/.opam/4.02.3/lib/findlib.conf' | \
- 		../../tools/patch '@STDLIB@' '/home/opam/.opam/4.02.3/lib/ocaml' | \
- 		sed -e 's;@AUTOLINK@;true;g' \
- 		    -e 's;@SYSTEM@;linux;g' \
- 		     >findlib_config.ml
- ocamlc -I +compiler-libs -g -c findlib_config.ml
- ocamlc -I +compiler-libs -g -c fl_split.ml
- ocamlc -I +compiler-libs -g -c fl_metatoken.ml
- ocamlc -I +compiler-libs -g -c fl_meta.ml
- ocamlc -I +compiler-libs -c fl_metascanner.mli
- ocamlc -I +compiler-libs -g -c fl_metascanner.ml
- ocamlc -I +compiler-libs -c fl_topo.mli
- ocamlc -I +compiler-libs -g -c fl_topo.ml
- ocamlc -I +compiler-libs -c fl_package_base.mli
- ocamlc -I +compiler-libs -g -c fl_package_base.ml
- ocamlc -I +compiler-libs -c findlib.mli
- ocamlc -I +compiler-libs -g -c findlib.ml
- Makefile:175: depend: No such file or directory
- ocamlc -I +compiler-libs -g -c fl_args.ml
- ocamlc -I +compiler-libs -g -c fl_lint.ml
- ocamlc -I +compiler-libs -a -o findlib.cma findlib_config.cmo fl_split.cmo fl_metatoken.cmo fl_meta.cmo fl_metascanner.cmo fl_topo.cmo fl_package_base.cmo findlib.cmo fl_args.cmo fl_lint.cmo
- ocamlc -I +compiler-libs -g -c ocaml_args.ml
- ocamlc -I +compiler-libs -g -c frontend.ml
- ocamlc -I +compiler-libs -custom -o ocamlfind -g findlib.cma unix.cma \
- 	           ocaml_args.cmo frontend.cmo
- File "frontend.ml", line 1787, characters 16-29:
- Warning 3: deprecated: String.create
- Use Bytes.create instead.
- if [ "true" = "true" ]; then                 \
- 		cp topfind.ml.in topfind.ml;                             \
- 	else                                                             \
- 		sed -e '/PPXOPT_BEGIN/,/PPXOPT_END/ d' topfind.ml.in     \
- 			> topfind.ml ;                                   \
- 	fi
- ocamlc -I +compiler-libs -c topfind.mli
- ocamlc -I +compiler-libs -g -c topfind.ml
- ocamlc -I +compiler-libs -a -o findlib_top.cma topfind.cmo
- USE_CYGPATH="0"; \
- 	export USE_CYGPATH; \
- 	cat topfind_rd1.p | \
- 		../../tools/patch '@SITELIB@' '/home/opam/.opam/4.02.3/lib' \
- 	    	    >topfind
- ocamlc -I +compiler-libs -c num_top_printers.mli
- ocamlc -I +compiler-libs -g -c num_top_printers.ml
- ocamlc -I +compiler-libs -c num_top.mli
- ocamlc -I +compiler-libs -g -c num_top.ml
- ocamlc -I +compiler-libs -a -o num_top.cma num_top_printers.cmo num_top.cmo
- ocamlc -I +compiler-libs -c fl_dynload.mli
- ocamlc -I +compiler-libs -g -c fl_dynload.ml
- ocamlc -I +compiler-libs -a -o findlib_dynload.cma fl_dynload.cmo
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- make all-config
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2'
- USE_CYGPATH="0"; \
- 	export USE_CYGPATH; \
- 	cat findlib.conf.in | \
- 		tools/patch '@SITELIB@' '/home/opam/.opam/4.02.3/lib' >findlib.conf
- if ocamlc.opt >/dev/null 2>&1; then \
- 		echo 'ocamlc="ocamlc.opt"' >>findlib.conf; \
- 	fi
- if ocamlopt.opt >/dev/null 2>&1; then \
- 		echo 'ocamlopt="ocamlopt.opt"' >>findlib.conf; \
- 	fi
- if ocamldep.opt >/dev/null 2>&1; then \
- 		echo 'ocamldep="ocamldep.opt"' >>findlib.conf; \
- 	fi
- if ocamldoc.opt >/dev/null 2>&1; then \
- 		echo 'ocamldoc="ocamldoc.opt"' >>findlib.conf; \
- 	fi
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2'
[ocamlfind: make opt] Command started
+ make "opt" (CWD=/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2)
- for p in findlib; do ( cd src/$p; make opt ) || exit; done
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- ocamldep *.ml *.mli >depend
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- ocamlopt -I +compiler-libs -c findlib_config.ml
- ocamlopt -I +compiler-libs -c fl_split.ml
- ocamlopt -I +compiler-libs -c fl_metatoken.ml
- ocamlopt -I +compiler-libs -c fl_meta.ml
- ocamlopt -I +compiler-libs -c fl_metascanner.ml
- ocamlopt -I +compiler-libs -c fl_topo.ml
- ocamlopt -I +compiler-libs -c fl_package_base.ml
- ocamlopt -I +compiler-libs -c findlib.ml
- ocamlopt -I +compiler-libs -c fl_args.ml
- ocamlopt -I +compiler-libs -c fl_lint.ml
- ocamlopt -I +compiler-libs -a -o findlib.cmxa findlib_config.cmx fl_split.cmx fl_metatoken.cmx fl_meta.cmx fl_metascanner.cmx fl_topo.cmx fl_package_base.cmx findlib.cmx fl_args.cmx fl_lint.cmx
- if [ 1 -gt 0 ]; then \
- 	    ocamlopt -I +compiler-libs -shared -o findlib.cmxs findlib_config.cmx fl_split.cmx fl_metatoken.cmx fl_meta.cmx fl_metascanner.cmx fl_topo.cmx fl_package_base.cmx findlib.cmx fl_args.cmx fl_lint.cmx; \
- 	fi
- ocamlopt -I +compiler-libs -c ocaml_args.ml
- ocamlopt -I +compiler-libs -c frontend.ml
- File "frontend.ml", line 1787, characters 16-29:
- Warning 3: deprecated: String.create
- Use Bytes.create instead.
- ocamlopt -I +compiler-libs -o ocamlfind_opt findlib.cmxa unix.cmxa \
- 		   ocaml_args.cmx frontend.cmx
- ocamlopt -I +compiler-libs -c fl_dynload.ml
- ocamlopt -I +compiler-libs -a -o findlib_dynload.cmxa fl_dynload.cmx
- if [ 1 -gt 0 ]; then \
- 	    ocamlopt -I +compiler-libs -shared -o findlib_dynload.cmxs fl_dynload.cmx; \
- 	fi
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
[ocamlfind: make install] Command started
+ make "install" (CWD=/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2)
- mkdir -p "/home/opam/.opam/4.02.3/bin"
- mkdir -p "/home/opam/.opam/4.02.3/man"
- make install-config
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2'
- mkdir -p "`dirname \"/home/opam/.opam/4.02.3/lib/findlib.conf\"`"
- test -f "/home/opam/.opam/4.02.3/lib/findlib.conf" || cp findlib.conf "/home/opam/.opam/4.02.3/lib/findlib.conf"
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2'
- for p in findlib; do ( cd src/$p; make install ); done
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- mkdir -p "/home/opam/.opam/4.02.3/lib/findlib"
- mkdir -p "/home/opam/.opam/4.02.3/bin"
- test 1 -eq 0 || cp topfind "/home/opam/.opam/4.02.3/lib/ocaml"
- files=`../../tools/collect_files ../../Makefile.config findlib.cmi findlib.mli findlib.cma topfind.cmi topfind.mli fl_package_base.mli fl_package_base.cmi fl_metascanner.mli fl_metascanner.cmi fl_metatoken.cmi findlib_top.cma findlib.cmxa findlib.a findlib.cmxs findlib_dynload.cma findlib_dynload.cmxa findlib_dynload.a findlib_dynload.cmxs fl_dynload.mli fl_dynload.cmi META` && \
- 	cp $files "/home/opam/.opam/4.02.3/lib/findlib"
- f="ocamlfind"; { test -f ocamlfind_opt && f="ocamlfind_opt"; }; \
- 	cp $f "/home/opam/.opam/4.02.3/bin/ocamlfind"
- # the following "if" block is only needed for 4.00beta2
- if [ 1 -eq 0 -a -f "/home/opam/.opam/4.02.3/lib/ocaml/compiler-libs/topdirs.cmi" ]; then \
- 	    cd "/home/opam/.opam/4.02.3/lib/ocaml/compiler-libs/"; \
- 	    cp topdirs.cmi toploop.cmi "/home/opam/.opam/4.02.3/lib/findlib/"; \
- 	fi
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- make install-meta
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2'
- for x in `ls site-lib-src`; do if [ -f "site-lib-src/$x/META" ]; then mkdir -p "/home/opam/.opam/4.02.3/lib/$x"; cp site-lib-src/$x/META "/home/opam/.opam/4.02.3/lib/$x"; fi; done
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2'
- cd src/findlib; make install-num-top
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- mkdir -p "/home/opam/.opam/4.02.3/lib/num-top"
- cp num_top.cma num_top.cmi num_top_printers.cmi \
- 		"/home/opam/.opam/4.02.3/lib/num-top"
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2/src/findlib'
- if [ 1 -eq 1 ]; then \
- 		cp tools/safe_camlp4 "/home/opam/.opam/4.02.3/bin"; \
- 	fi
- make install-doc
- make[1]: Entering directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2'
- mkdir -p "/home/opam/.opam/4.02.3/man/man1" "/home/opam/.opam/4.02.3/man/man3 /home/opam/.opam/4.02.3/man/man5"
- cp doc/ref-man/ocamlfind.1 "/home/opam/.opam/4.02.3/man/man1"
- cp doc/ref-man/META.5 doc/ref-man/site-lib.5 doc/ref-man/findlib.conf.5 "/home/opam/.opam/4.02.3/man/man5"
- make[1]: Leaving directory `/home/opam/.opam/4.02.3/build/ocamlfind.1.6.2'
-> installed ocamlfind.1.6.2
[91m
#=== ERROR while installing conf-tcl.1 ========================================#
# opam-version         1.2.2 (2dee5d69c0bd29731e6cb2ee537f0adf72404ba4)
# os                   linux
# command              pkg-config tcl
# path                 /home/opam/.opam/4.02.3/build/conf-tcl.1
# compiler             4.02.3
# exit-code            1
# env-file             /home/opam/.opam/4.02.3/build/conf-tcl.1/conf-tcl-172-d2c37b.env
# stdout-file          /home/opam/.opam/4.02.3/build/conf-tcl.1/conf-tcl-172-d2c37b.out
# stderr-file          /home/opam/.opam/4.02.3/build/conf-tcl.1/conf-tcl-172-d2c37b.err

[0m[91m
#=== ERROR while installing conf-tk.1 =========================================#
# opam-version         1.2.2 (2dee5d69c0bd29731e6cb2ee537f0adf72404ba4)
# os                   linux
# command              pkg-config tk
# path                 /home/opam/.opam/4.02.3/build/conf-tk.1
# compiler             4.02.3
# exit-code            1
# env-file             /home/opam/.opam/4.02.3/build/conf-tk.1/conf-tk-172-6d07ae.env
# stdout-file          /home/opam/.opam/4.02.3/build/conf-tk.1/conf-tk-172-6d07ae.out
# stderr-file          /home/opam/.opam/4.02.3/build/conf-tk.1/conf-tk-172-6d07ae.err

[0m

=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions were aborted
  - install labltk 8.06.0
The following actions failed
  - install conf-tcl 1
  - install conf-tk  1
The following changes have been performed
  - install conf-m4         1    
  - install conf-ncurses    1    
  - install conf-pkg-config 1.0  
  - install ocamlfind       1.6.2

=-=- conf-tcl.1 troobleshooting -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing.
   `opam depext conf-tcl.1' may help you find the correct installation for your
   system.

=-=- conf-tk.1 troobleshooting =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> This package relies on external (system) dependencies that may be missing.
   `opam depext conf-tk.1' may help you find the correct installation for your
   system.
[91m
The former state can be restored with:
    opam switch import "~/.opam/4.02.3/backup/state-20160223104213.export"
'opam install -y -j 2 -v labltk' failed.
[0mThe command '/bin/sh -c sudo -u opam sh -c "cd /home/opam/opam-repository && git pull origin master && opam update -u" &&   sudo -u opam sh -c "cd /home/opam/opam-repository && git pull https://github.com/timbertson/opam-repository.git tk && opam update -u" &&   sudo -u opam sh -c "opam depext -u labltk" &&   sudo -u opam sh -c "opam install -y -j 2 -v labltk"' returned a non-zero code: 4
